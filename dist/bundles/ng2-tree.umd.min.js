!function(e){function t(e){Object.defineProperty(this,e,{enumerable:!0,get:function(){return this[v][e]}})}function r(e){if("undefined"!=typeof System&&System.isModule?System.isModule(e):"[object Module]"===Object.prototype.toString.call(e))return e;var t={default:e,__useDefault:e};if(e&&e.__esModule)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return new o(t)}function o(e){Object.defineProperty(this,v,{value:e}),Object.keys(e).forEach(t,this)}function n(e){return"@node/"===e.substr(0,6)?c(e,r(m(e.substr(6))),{}):p[e]}function u(e){var t=n(e);if(!t)throw new Error('Module "'+e+'" expected, but not contained in build.');if(t.module)return t.module;var r=t.linkRecord;return i(t,r),a(t,r,[]),t.module}function i(e,t){if(!t.depLoads){t.declare&&d(e,t),t.depLoads=[];for(var r=0;r<t.deps.length;r++){var o=n(t.deps[r]);t.depLoads.push(o),o.linkRecord&&i(o,o.linkRecord);var u=t.setters&&t.setters[r];u&&(u(o.module||o.linkRecord.moduleObj),o.importerSetters.push(u))}return e}}function d(t,r){var o=r.moduleObj,n=t.importerSetters,u=!1,i=r.declare.call(e,function(e,t){if(!u){if("object"==typeof e)for(var r in e)"__useDefault"!==r&&(o[r]=e[r]);else o[e]=t;u=!0;for(var i=0;i<n.length;i++)n[i](o);return u=!1,t}},{id:t.key});"function"!=typeof i?(r.setters=i.setters,r.execute=i.execute):(r.setters=[],r.execute=i)}function l(e,t,r){return p[e]={key:e,module:void 0,importerSetters:[],linkRecord:{deps:t,depLoads:void 0,declare:r,setters:void 0,execute:void 0,moduleObj:{}}}}function f(e,t,r,o){var n={};return p[e]={key:e,module:void 0,importerSetters:[],linkRecord:{deps:t,depLoads:void 0,declare:void 0,execute:o,executingRequire:r,moduleObj:{default:n,__useDefault:n},setters:void 0}}}function s(e,t,r){return function(o){for(var n=0;n<e.length;n++)if(e[n]===o){var u,i=t[n],d=i.linkRecord;return u=d?-1===r.indexOf(i)?a(i,d,r):d.moduleObj:i.module,"__useDefault"in u?u.__useDefault:u}}}function a(t,r,n){if(n.push(t),t.module)return t.module;if(r.setters){for(var i=0;i<r.deps.length;i++){var d=r.depLoads[i],l=d.linkRecord;l&&-1===n.indexOf(d)&&a(d,l,l.setters?n:[])}r.execute.call(y)}else{var f={id:t.key},c=r.moduleObj;Object.defineProperty(f,"exports",{configurable:!0,set:function(e){c.default=c.__useDefault=e},get:function(){return c.__useDefault}});var p=s(r.deps,r.depLoads,n);if(!r.executingRequire)for(var i=0;i<r.deps.length;i++)p(r.deps[i]);var v=r.execute.call(e,p,c.__useDefault,f);void 0!==v?c.default=c.__useDefault=v:f.exports!==c.__useDefault&&(c.default=c.__useDefault=f.exports);var m=c.__useDefault;if(m&&m.__esModule)for(var b in m)Object.hasOwnProperty.call(m,b)&&(c[b]=m[b])}var f=t.module=new o(r.moduleObj);if(!r.setters)for(var i=0;i<t.importerSetters.length;i++)t.importerSetters[i](f);return f}function c(e,t){return p[e]={key:e,module:t,importerSetters:[],linkRecord:void 0}}var p={},v="undefined"!=typeof Symbol?Symbol():"@@baseObject";o.prototype=Object.create(null),"undefined"!=typeof Symbol&&Symbol.toStringTag&&(o.prototype[Symbol.toStringTag]="Module");var m="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&void 0!==require.resolve&&"undefined"!=typeof process&&process.platform&&require,y={};return Object.freeze&&Object.freeze(y),function(e,t,n,i){return function(d){d(function(d){var s={_nodeRequire:m,register:l,registerDynamic:f,registry:{get:function(e){return p[e].module},set:c},newModule:function(e){return new o(e)}};c("@empty",new o({}));for(var a=0;a<t.length;a++)c(t[a],r(arguments[a],{}));i(s);var v=u(e[0]);if(e.length>1)for(var a=1;a<e.length;a++)u(e[a]);return n?v.__useDefault:(v instanceof o&&Object.defineProperty(v,"__esModule",{value:!0}),v)})}}}("undefined"!=typeof self?self:"undefined"!=typeof global?global:this)(["a"],["1d","d","1f","2e","30","1b","1c"],!0,function($__System){this.require,this.exports,this.module;$__System.registerDynamic("b",[],!0,function($__require,exports,module){"use strict";this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.noop=void 0;var noop=function(){};exports.noop=noop}),$__System.registerDynamic("c",["d","e","f","10","11"],!0,function($__require,exports,module){"use strict";this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.TreeComponent=void 0;var core_1=$__require("d"),tree_service_1=$__require("e"),tree_1=($__require("f"),$__require("10")),i0=$__require("d"),i1=$__require("e"),i2=$__require("11"),_c0=["rootComponent"],TreeComponent=function(){function TreeComponent(treeService){this.treeService=treeService,this.nodeCreated=new core_1.EventEmitter,this.nodeRemoved=new core_1.EventEmitter,this.nodeRenamed=new core_1.EventEmitter,this.nodeDoubleClicked=new core_1.EventEmitter,this.nodeSelected=new core_1.EventEmitter,this.nodeUnselected=new core_1.EventEmitter,this.nodeDragStarted=new core_1.EventEmitter,this.nodeMoved=new core_1.EventEmitter,this.nodeExpanded=new core_1.EventEmitter,this.nodeCollapsed=new core_1.EventEmitter,this.loadNextLevel=new core_1.EventEmitter,this.nodeChecked=new core_1.EventEmitter,this.nodeUnchecked=new core_1.EventEmitter,this.nodeRenameKeydown=new core_1.EventEmitter,this.nodeRenameInputChange=new core_1.EventEmitter,this.menuItemSelected=new core_1.EventEmitter,this.subscriptions=[]}return TreeComponent.prototype.ngOnChanges=function(changes){this.treeModel?this.tree=new tree_1.Tree(this.treeModel):this.tree=TreeComponent.EMPTY_TREE},TreeComponent.prototype.ngOnInit=function(){var _this=this;this.subscriptions.push(this.treeService.nodeRemoved$.subscribe(function(e){_this.nodeRemoved.emit(e)})),this.subscriptions.push(this.treeService.nodeRenamed$.subscribe(function(e){_this.nodeRenamed.emit(e)})),this.subscriptions.push(this.treeService.nodeCreated$.subscribe(function(e){_this.nodeCreated.emit(e)})),this.subscriptions.push(this.treeService.nodeDoubleClicked$.subscribe(function(e){_this.nodeDoubleClicked.emit(e)})),this.subscriptions.push(this.treeService.nodeSelected$.subscribe(function(e){_this.nodeSelected.emit(e)})),this.subscriptions.push(this.treeService.nodeUnselected$.subscribe(function(e){_this.nodeUnselected.emit(e)})),this.subscriptions.push(this.treeService.nodeMoveStarted$.subscribe(function(e){_this.nodeDragStarted.emit(e)})),this.subscriptions.push(this.treeService.nodeMoved$.subscribe(function(e){_this.nodeMoved.emit(e)})),this.subscriptions.push(this.treeService.nodeExpanded$.subscribe(function(e){_this.nodeExpanded.emit(e)})),this.subscriptions.push(this.treeService.nodeCollapsed$.subscribe(function(e){_this.nodeCollapsed.emit(e)})),this.subscriptions.push(this.treeService.menuItemSelected$.subscribe(function(e){_this.menuItemSelected.emit(e)})),this.subscriptions.push(this.treeService.loadNextLevel$.subscribe(function(e){_this.loadNextLevel.emit(e)})),this.subscriptions.push(this.treeService.nodeChecked$.subscribe(function(e){_this.nodeChecked.emit(e)})),this.subscriptions.push(this.treeService.nodeUnchecked$.subscribe(function(e){_this.nodeUnchecked.emit(e)})),this.subscriptions.push(this.treeService.nodeRenameKeydown$.subscribe(function(e){_this.nodeRenameKeydown.emit(e)})),this.subscriptions.push(this.treeService.nodeRenameInputChange$.subscribe(function(e){_this.nodeRenameInputChange.emit(e)}))},TreeComponent.prototype.getController=function(){return this.rootComponent.controller},TreeComponent.prototype.getControllerByNodeId=function(id){return this.treeService.getController(id)},TreeComponent.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(sub){return sub&&sub.unsubscribe()})},TreeComponent.EMPTY_TREE=new tree_1.Tree({value:""}),TreeComponent.ɵfac=function(t){return new(t||TreeComponent)(i0.ɵɵdirectiveInject(tree_service_1.TreeService))},TreeComponent.ɵcmp=i0.ɵɵdefineComponent({type:TreeComponent,selectors:[["tree"]],contentQueries:function(rf,ctx,dirIndex){if(1&rf&&i0.ɵɵcontentQuery(dirIndex,core_1.TemplateRef,1),2&rf){var _t=void 0;i0.ɵɵqueryRefresh(_t=i0.ɵɵloadQuery())&&(ctx.template=_t.first)}},viewQuery:function(rf,ctx){if(1&rf&&i0.ɵɵviewQuery(_c0,1),2&rf){var _t=void 0;i0.ɵɵqueryRefresh(_t=i0.ɵɵloadQuery())&&(ctx.rootComponent=_t.first)}},inputs:{treeModel:["tree","treeModel"],settings:"settings"},outputs:{nodeCreated:"nodeCreated",nodeRemoved:"nodeRemoved",nodeRenamed:"nodeRenamed",nodeDoubleClicked:"nodeDoubleClicked",nodeSelected:"nodeSelected",nodeUnselected:"nodeUnselected",nodeDragStarted:"nodeDragStarted",nodeMoved:"nodeMoved",nodeExpanded:"nodeExpanded",nodeCollapsed:"nodeCollapsed",loadNextLevel:"loadNextLevel",nodeChecked:"nodeChecked",nodeUnchecked:"nodeUnchecked",nodeRenameKeydown:"nodeRenameKeydown",nodeRenameInputChange:"nodeRenameInputChange",menuItemSelected:"menuItemSelected"},features:[i0.ɵɵProvidersFeature([tree_service_1.TreeService]),i0.ɵɵNgOnChangesFeature],decls:2,vars:3,consts:[[3,"tree","settings","template"],["rootComponent",""]],template:function(rf,ctx){1&rf&&i0.ɵɵelement(0,"tree-internal",0,1),2&rf&&i0.ɵɵproperty("tree",ctx.tree)("settings",ctx.settings)("template",ctx.template)},directives:[i2.TreeInternalComponent],encapsulation:2}),TreeComponent}();exports.TreeComponent=TreeComponent,function(){("undefined"==typeof ngDevMode||ngDevMode)&&i0.ɵsetClassMetadata(TreeComponent,[{type:core_1.Component,args:[{selector:"tree",template:'<tree-internal #rootComponent [tree]="tree" [settings]="settings" [template]="template"></tree-internal>',providers:[tree_service_1.TreeService]}]}],function(){return[{type:i1.TreeService,decorators:[{type:core_1.Inject,args:[tree_service_1.TreeService]}]}]},{treeModel:[{type:core_1.Input,args:["tree"]}],settings:[{type:core_1.Input}],nodeCreated:[{type:core_1.Output}],nodeRemoved:[{type:core_1.Output}],nodeRenamed:[{type:core_1.Output}],nodeDoubleClicked:[{type:core_1.Output}],nodeSelected:[{type:core_1.Output}],nodeUnselected:[{type:core_1.Output}],nodeDragStarted:[{type:core_1.Output}],nodeMoved:[{type:core_1.Output}],nodeExpanded:[{type:core_1.Output}],nodeCollapsed:[{type:core_1.Output}],loadNextLevel:[{type:core_1.Output}],nodeChecked:[{type:core_1.Output}],nodeUnchecked:[{type:core_1.Output}],nodeRenameKeydown:[{type:core_1.Output}],nodeRenameInputChange:[{type:core_1.Output}],menuItemSelected:[{type:core_1.Output}],rootComponent:[{type:core_1.ViewChild,args:["rootComponent"]}],template:[{type:core_1.ContentChild,args:[core_1.TemplateRef]}]})}()}),$__System.registerDynamic("12",["13","14","15"],!0,function($__require,exports,module){"use strict";this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.TreeController=void 0;var menu_events_1=$__require("13"),event_utils_1=$__require("14"),fn_utils_1=$__require("15"),TreeController=function(){function TreeController(component){this.component=component,this.tree=this.component.tree,this.treeService=this.component.treeService}return TreeController.prototype.select=function(){this.isSelected()||this.component.onNodeSelected({button:event_utils_1.MouseButtons.Left})},TreeController.prototype.unselect=function(){this.isSelected()&&this.component.onNodeUnselected({button:event_utils_1.MouseButtons.Left})},TreeController.prototype.isSelected=function(){return this.component.isSelected},TreeController.prototype.expand=function(){this.isCollapsed()&&this.component.onSwitchFoldingType()},TreeController.prototype.expandToParent=function(tree){var _this=this;if(void 0===tree&&(tree=this.tree),tree){var controller_1=this.treeService.getController(tree.id);controller_1&&requestAnimationFrame(function(){controller_1.expand(),_this.expandToParent(tree.parent)})}},TreeController.prototype.isExpanded=function(){return this.tree.isNodeExpanded()},TreeController.prototype.collapse=function(){this.isExpanded()&&this.component.onSwitchFoldingType()},TreeController.prototype.isCollapsed=function(){return this.tree.isNodeCollapsed()},TreeController.prototype.toTreeModel=function(){return this.tree.toTreeModel()},TreeController.prototype.rename=function(newValue){this.tree.markAsBeingRenamed(),this.component.applyNewValue({type:"keyup",value:newValue})},TreeController.prototype.remove=function(){this.component.onMenuItemSelected({nodeMenuItemAction:menu_events_1.NodeMenuItemAction.Remove})},TreeController.prototype.addChild=function(newNode){if(!this.tree.hasDeferredChildren()||this.tree.childrenWereLoaded()){var newTree=this.tree.createNode(Array.isArray(newNode.children),newNode);this.treeService.fireNodeCreated(newTree)}},TreeController.prototype.addChildAsync=function(newNode){if(this.tree.hasDeferredChildren()&&!this.tree.childrenWereLoaded())return Promise.reject(new Error("This node loads its children asynchronously, hence child cannot be added this way"));var newTree=this.tree.createNode(Array.isArray(newNode.children),newNode);return this.treeService.fireNodeCreated(newTree),new Promise(function(resolve){setTimeout(function(){resolve(newTree)})})},TreeController.prototype.changeNodeId=function(id){if(!id)throw Error("You should supply an id!");if(this.treeService.hasController(id))throw Error("Controller already exists for the given id: "+id);this.treeService.deleteController(this.tree.id),this.tree.id=id,this.treeService.setController(this.tree.id,this)},TreeController.prototype.reloadChildren=function(){this.tree.reloadChildren()},TreeController.prototype.setChildren=function(children){this.tree.isLeaf()||this.tree.setChildren(children)},TreeController.prototype.startRenaming=function(){this.tree.markAsBeingRenamed()},TreeController.prototype.check=function(){this.component.onNodeChecked()},TreeController.prototype.uncheck=function(ignoreChildren){void 0===ignoreChildren&&(ignoreChildren=!1),this.component.onNodeUnchecked(ignoreChildren)},TreeController.prototype.updateCheckboxState=function(){this.component.updateCheckboxState()},TreeController.prototype.isChecked=function(){return this.tree.checked},TreeController.prototype.isIndeterminate=function(){return fn_utils_1.get(this.component,"checkboxElementRef.nativeElement.indeterminate")},TreeController.prototype.allowSelection=function(){this.tree.selectionAllowed=!0},TreeController.prototype.forbidSelection=function(){this.tree.selectionAllowed=!1},TreeController.prototype.isSelectionAllowed=function(){return this.tree.selectionAllowed},TreeController}();exports.TreeController=TreeController}),$__System.registerDynamic("11",["d","f","10","12","16","13","17","e","14","18","15","19","1a","1b","1c","1d","1e","1f","20","21","22"],!0,function($__require,exports,module){"use strict";function TreeInternalComponent_ul_0_div_3_Template(rf,ctx){if(1&rf){var _r13=i0.ɵɵgetCurrentView();i0.ɵɵelementStart(0,"div",14),i0.ɵɵelementStart(1,"input",15,16),i0.ɵɵlistener("change",function(){return i0.ɵɵrestoreView(_r13),i0.ɵɵnextContext(2).switchNodeCheckStatus()}),i0.ɵɵelementEnd(),i0.ɵɵelementEnd()}if(2&rf){var ctx_r1=i0.ɵɵnextContext(2);i0.ɵɵadvance(1),i0.ɵɵproperty("disabled",ctx_r1.isReadOnly)("checked",ctx_r1.tree.checked)}}function TreeInternalComponent_ul_0_div_5_div_1_Template(rf,ctx){if(1&rf&&(i0.ɵɵelement(0,"div",22),i0.ɵɵpipe(1,"safeHtml")),2&rf){var ctx_r14=i0.ɵɵnextContext(3);i0.ɵɵproperty("innerHTML",i0.ɵɵpipeBind1(1,1,ctx_r14.tree.nodeTemplate),i0.ɵɵsanitizeHtml)}}function TreeInternalComponent_ul_0_div_5_span_2_Template(rf,ctx){if(1&rf&&(i0.ɵɵelement(0,"span",23),i0.ɵɵpipe(1,"safeHtml")),2&rf){var ctx_r15=i0.ɵɵnextContext(3);i0.ɵɵproperty("innerHTML",i0.ɵɵpipeBind1(1,3,ctx_r15.tree.value),i0.ɵɵsanitizeHtml)("matTooltip",ctx_r15.tree.tooltip)("matTooltipPosition",ctx_r15.tree.tooltipPosition)}}function TreeInternalComponent_ul_0_div_5_span_3_Template(rf,ctx){1&rf&&i0.ɵɵelement(0,"span",24)}function TreeInternalComponent_ul_0_div_5_ng_template_4_Template(rf,ctx){}function TreeInternalComponent_ul_0_div_5_Template(rf,ctx){if(1&rf){var _r19=i0.ɵɵgetCurrentView();i0.ɵɵelementStart(0,"div",17),i0.ɵɵlistener("dblclick",function($event){return i0.ɵɵrestoreView(_r19),i0.ɵɵnextContext(2).onNodeDoubleClicked($event)})("click",function($event){return i0.ɵɵrestoreView(_r19),i0.ɵɵnextContext(2).onNodeSelected($event)}),i0.ɵɵtemplate(1,TreeInternalComponent_ul_0_div_5_div_1_Template,2,3,"div",18),i0.ɵɵtemplate(2,TreeInternalComponent_ul_0_div_5_span_2_Template,2,5,"span",19),i0.ɵɵtemplate(3,TreeInternalComponent_ul_0_div_5_span_3_Template,1,0,"span",20),i0.ɵɵtemplate(4,TreeInternalComponent_ul_0_div_5_ng_template_4_Template,0,0,"ng-template",21),i0.ɵɵelementEnd()}if(2&rf){var ctx_r2=i0.ɵɵnextContext(2);i0.ɵɵclassProp("node-selected",ctx_r2.isSelected),i0.ɵɵadvance(1),i0.ɵɵproperty("ngIf",ctx_r2.tree.nodeTemplate),i0.ɵɵadvance(1),i0.ɵɵproperty("ngIf",!ctx_r2.template),i0.ɵɵadvance(1),i0.ɵɵproperty("ngIf",ctx_r2.tree.childrenAreBeingLoaded()),i0.ɵɵadvance(1),i0.ɵɵproperty("ngTemplateOutlet",ctx_r2.template)("ngTemplateOutletContext",i0.ɵɵpureFunction1(7,_c1,ctx_r2.tree.node))}}function TreeInternalComponent_ul_0_input_6_Template(rf,ctx){if(1&rf){var _r22=i0.ɵɵgetCurrentView();i0.ɵɵelementStart(0,"input",25),i0.ɵɵlistener("keydown",function($event){return i0.ɵɵrestoreView(_r22),i0.ɵɵnextContext(2).keydownHandler($event)})("input",function($event){return i0.ɵɵrestoreView(_r22),i0.ɵɵnextContext(2).inputChangeHandler($event)})("valueChanged",function($event){return i0.ɵɵrestoreView(_r22),i0.ɵɵnextContext(2).applyNewValue($event)}),i0.ɵɵelementEnd()}if(2&rf){var ctx_r3=i0.ɵɵnextContext(2);i0.ɵɵproperty("nodeEditable",ctx_r3.tree.value)}}function TreeInternalComponent_ul_0_div_7_Template(rf,ctx){if(1&rf){var _r26=i0.ɵɵgetCurrentView();i0.ɵɵelementStart(0,"div",26),i0.ɵɵlistener("click",function($event){return i0.ɵɵrestoreView(_r26),i0.ɵɵnextContext(2).showLeftMenu($event)}),i0.ɵɵelementEnd()}if(2&rf){var ctx_r4=i0.ɵɵnextContext(2);i0.ɵɵproperty("innerHTML",ctx_r4.tree.leftMenuTemplate,i0.ɵɵsanitizeHtml)}}function TreeInternalComponent_ul_0_node_menu_8_Template(rf,ctx){if(1&rf){var _r28=i0.ɵɵgetCurrentView();i0.ɵɵelementStart(0,"node-menu",27),i0.ɵɵlistener("menuItemSelected",function($event){return i0.ɵɵrestoreView(_r28),i0.ɵɵnextContext(2).onMenuItemSelected($event)}),i0.ɵɵelementEnd()}}function TreeInternalComponent_ul_0_div_9_Template(rf,ctx){if(1&rf&&(i0.ɵɵelement(0,"div",28),i0.ɵɵpipe(1,"safeHtml")),2&rf){var ctx_r6=i0.ɵɵnextContext(2);i0.ɵɵproperty("innerHTML",i0.ɵɵpipeBind1(1,1,ctx_r6.tree.dragTemplate),i0.ɵɵsanitizeHtml)}}function TreeInternalComponent_ul_0_node_menu_10_Template(rf,ctx){if(1&rf){var _r30=i0.ɵɵgetCurrentView();i0.ɵɵelementStart(0,"node-menu",29),i0.ɵɵlistener("menuItemSelected",function($event){return i0.ɵɵrestoreView(_r30),i0.ɵɵnextContext(2).onMenuItemSelected($event)}),i0.ɵɵelementEnd()}if(2&rf){var ctx_r7=i0.ɵɵnextContext(2);i0.ɵɵproperty("cursorCoordinates",ctx_r7.cursorCoordinates)}}function TreeInternalComponent_ul_0_node_menu_11_Template(rf,ctx){if(1&rf){var _r32=i0.ɵɵgetCurrentView();i0.ɵɵelementStart(0,"node-menu",30),i0.ɵɵlistener("menuItemSelected",function($event){return i0.ɵɵrestoreView(_r32),i0.ɵɵnextContext(2).onMenuItemSelected($event)}),i0.ɵɵelementEnd()}if(2&rf){var ctx_r8=i0.ɵɵnextContext(2);i0.ɵɵproperty("menuItems",ctx_r8.tree.menuItems)("cursorCoordinates",ctx_r8.cursorCoordinates)}}function TreeInternalComponent_ul_0_div_12_tree_internal_1_Template(rf,ctx){if(1&rf&&i0.ɵɵelement(0,"tree-internal",33),2&rf){var child_r34=ctx.$implicit,ctx_r33=i0.ɵɵnextContext(3);i0.ɵɵproperty("tree",child_r34)("template",ctx_r33.template)("settings",ctx_r33.settings)}}function TreeInternalComponent_ul_0_div_12_Template(rf,ctx){if(1&rf&&(i0.ɵɵelementStart(0,"div",31),i0.ɵɵtemplate(1,TreeInternalComponent_ul_0_div_12_tree_internal_1_Template,1,3,"tree-internal",32),i0.ɵɵpipe(2,"async"),i0.ɵɵelementEnd()),2&rf){var ctx_r9=i0.ɵɵnextContext(2);i0.ɵɵproperty("ngStyle",i0.ɵɵpureFunction1(4,_c2,ctx_r9.tree.isNodeExpanded()?"block":"none")),i0.ɵɵadvance(1),i0.ɵɵproperty("ngForOf",i0.ɵɵpipeBind1(2,2,ctx_r9.tree.childrenAsync))}}function TreeInternalComponent_ul_0_ng_template_13_tree_internal_0_Template(rf,ctx){if(1&rf&&i0.ɵɵelement(0,"tree-internal",33),2&rf){var child_r36=ctx.$implicit,ctx_r35=i0.ɵɵnextContext(3);i0.ɵɵproperty("tree",child_r36)("template",ctx_r35.template)("settings",ctx_r35.settings)}}function TreeInternalComponent_ul_0_ng_template_13_Template(rf,ctx){if(1&rf&&(i0.ɵɵtemplate(0,TreeInternalComponent_ul_0_ng_template_13_tree_internal_0_Template,1,3,"tree-internal",32),i0.ɵɵpipe(1,"async")),2&rf){var ctx_r10=i0.ɵɵnextContext(2);i0.ɵɵproperty("ngForOf",i0.ɵɵpipeBind1(1,1,ctx_r10.tree.childrenAsync))}}function TreeInternalComponent_ul_0_Template(rf,ctx){if(1&rf){var _r38=i0.ɵɵgetCurrentView();i0.ɵɵelementStart(0,"ul",1),i0.ɵɵelementStart(1,"li"),i0.ɵɵelementStart(2,"div",2),i0.ɵɵlistener("contextmenu",function($event){return i0.ɵɵrestoreView(_r38),i0.ɵɵnextContext().showRightMenu($event)}),i0.ɵɵtemplate(3,TreeInternalComponent_ul_0_div_3_Template,3,2,"div",3),i0.ɵɵelementStart(4,"div",4),i0.ɵɵlistener("click",function(){return i0.ɵɵrestoreView(_r38),i0.ɵɵnextContext().onSwitchFoldingType()}),i0.ɵɵelementEnd(),i0.ɵɵtemplate(5,TreeInternalComponent_ul_0_div_5_Template,5,9,"div",5),i0.ɵɵtemplate(6,TreeInternalComponent_ul_0_input_6_Template,1,1,"input",6),i0.ɵɵtemplate(7,TreeInternalComponent_ul_0_div_7_Template,1,1,"div",7),i0.ɵɵtemplate(8,TreeInternalComponent_ul_0_node_menu_8_Template,1,0,"node-menu",8),i0.ɵɵtemplate(9,TreeInternalComponent_ul_0_div_9_Template,2,3,"div",9),i0.ɵɵelementEnd(),i0.ɵɵtemplate(10,TreeInternalComponent_ul_0_node_menu_10_Template,1,1,"node-menu",10),i0.ɵɵtemplate(11,TreeInternalComponent_ul_0_node_menu_11_Template,1,2,"node-menu",11),i0.ɵɵtemplate(12,TreeInternalComponent_ul_0_div_12_Template,3,6,"div",12),i0.ɵɵtemplate(13,TreeInternalComponent_ul_0_ng_template_13_Template,2,3,"ng-template",13),i0.ɵɵelementEnd(),i0.ɵɵelementEnd()}if(2&rf){var ctx_r0=i0.ɵɵnextContext();i0.ɵɵproperty("ngClass",i0.ɵɵpureFunction1(17,_c3,ctx_r0.isRootHidden())),i0.ɵɵadvance(2),i0.ɵɵclassProp("selected",ctx_r0.isSelected),i0.ɵɵproperty("ngClass",i0.ɵɵpureFunction2(19,_c4,ctx_r0.isRootHidden(),ctx_r0.tree.checked))("nodeDraggable",ctx_r0.nodeElementRef)("tree",ctx_r0.tree),i0.ɵɵadvance(1),i0.ɵɵproperty("ngIf",ctx_r0.settings.showCheckboxes),i0.ɵɵadvance(1),i0.ɵɵproperty("ngClass",ctx_r0.tree.foldingCssClass),i0.ɵɵadvance(1),i0.ɵɵproperty("ngIf",!ctx_r0.shouldShowInputForTreeValue()),i0.ɵɵadvance(1),i0.ɵɵproperty("ngIf",ctx_r0.shouldShowInputForTreeValue()),i0.ɵɵadvance(1),i0.ɵɵproperty("ngIf",ctx_r0.tree.hasLeftMenu()),i0.ɵɵadvance(1),i0.ɵɵproperty("ngIf",ctx_r0.tree.hasLeftMenu()&&ctx_r0.isLeftMenuVisible&&!ctx_r0.hasCustomMenu()),i0.ɵɵadvance(1),i0.ɵɵproperty("ngIf",ctx_r0.tree.hasDragIcon()),i0.ɵɵadvance(1),i0.ɵɵproperty("ngIf",ctx_r0.isRightMenuVisible&&!ctx_r0.hasCustomMenu()),i0.ɵɵadvance(1),i0.ɵɵproperty("ngIf",ctx_r0.hasCustomMenu()&&(ctx_r0.isRightMenuVisible||ctx_r0.isLeftMenuVisible)),i0.ɵɵadvance(1),i0.ɵɵproperty("ngIf",ctx_r0.tree.keepNodesInDOM()),i0.ɵɵadvance(1),i0.ɵɵproperty("ngIf",ctx_r0.tree.isNodeExpanded()&&!ctx_r0.tree.keepNodesInDOM())}}this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.TreeInternalComponent=void 0;var core_1=$__require("d"),tree_types_1=($__require("f"),$__require("f")),tree_1=$__require("10"),tree_controller_1=$__require("12"),menu_events_1=($__require("16"),$__require("13")),editable_events_1=$__require("17"),EventUtils=($__require("e"),$__require("14")),draggable_events_1=$__require("18"),fn_utils_1=$__require("15"),captured_node_1=($__require("19"),$__require("1a")),rxjs_1=$__require("1b"),operators_1=$__require("1c"),i0=$__require("d"),i1=$__require("16"),i2=$__require("e"),i3=$__require("19"),i4=$__require("1d"),i5=$__require("1e"),i6=$__require("1f"),i7=$__require("20"),i8=$__require("21"),i9=$__require("22"),_c0=["checkbox"],_c1=function(a0){return{$implicit:a0}},_c2=function(a0){return{display:a0}},_c3=function(a0){return{rootless:a0}},_c4=function(a0,a1){return{rootless:a0,checked:a1}},TreeInternalComponent=function(){function TreeInternalComponent(nodeMenuService,treeService,nodeDraggableService,nodeElementRef){this.nodeMenuService=nodeMenuService,this.treeService=treeService,this.nodeDraggableService=nodeDraggableService,this.nodeElementRef=nodeElementRef,this.isSelected=!1,this.isRightMenuVisible=!1,this.isLeftMenuVisible=!1,this.isReadOnly=!1,this.subscriptions=[]}return TreeInternalComponent.prototype.ngAfterViewInit=function(){this.tree.checked&&!this.tree.firstCheckedFired&&(this.tree.firstCheckedFired=!0,this.nodeDraggableService.addCheckedNode(new captured_node_1.CapturedNode(this.nodeElementRef,this.tree)),this.treeService.fireNodeChecked(this.tree))},TreeInternalComponent.prototype.ngOnInit=function(){var _this=this,nodeId=fn_utils_1.get(this.tree,"node.id","");nodeId&&(this.controller=new tree_controller_1.TreeController(this),this.treeService.setController(nodeId,this.controller)),this.settings=this.settings||new tree_types_1.Ng2TreeSettings,this.isReadOnly=!fn_utils_1.get(this.settings,"enableCheckboxes",!0),this.tree.isRoot()&&!1===this.settings.rootIsVisible&&this.tree.disableCollapseOnInit(),this.subscriptions.push(this.nodeMenuService.hideMenuStream(this.nodeElementRef).subscribe(function(){_this.hideMenus()})),this.subscriptions.push(this.treeService.unselectStream(this.tree).subscribe(function(){return _this.isSelected=!1})),this.subscriptions.push(this.treeService.draggedStream(this.tree,this.nodeElementRef).subscribe(function(e){return _this.nodeDraggedHandler(e)})),this.subscriptions.push(rxjs_1.merge(this.treeService.nodeChecked$,this.treeService.nodeUnchecked$).pipe(operators_1.filter(function(e){return _this.eventContainsId(e)&&_this.tree.hasChild(e.node)})).subscribe(function(e){return _this.updateCheckboxState()}))},TreeInternalComponent.prototype.ngOnChanges=function(changes){this.controller=new tree_controller_1.TreeController(this)},TreeInternalComponent.prototype.ngOnDestroy=function(){!fn_utils_1.get(this.tree,"node.id","")||this.tree.parent&&this.tree.parent.children.indexOf(this.tree)>-1||this.treeService.deleteController(this.tree.node.id),this.nodeDraggableService.releaseDraggedNode(),this.nodeDraggableService.releaseCheckedNodes(),this.subscriptions.forEach(function(sub){return sub&&sub.unsubscribe()})},TreeInternalComponent.prototype.nodeDraggedHandler=function(e){for(var nodesToMove=e.captured.filter(function(cn){return!cn.tree.parent||!cn.tree.parent.checked}),i=nodesToMove.length;i--;){var node=nodesToMove[i];if(node.tree.id){var ctrl=this.treeService.getController(node.tree.id);ctrl.isChecked()&&ctrl.uncheck()}this.tree.isBranch()&&e.position===draggable_events_1.DropPosition.Into?this.moveNodeToThisTreeAndRemoveFromPreviousOne(node.tree,this.tree):this.tree.hasSibling(node.tree)?this.moveSibling(node.tree,this.tree,e.position):this.moveNodeToParentTreeAndRemoveFromPreviousOne(node.tree,this.tree,e.position)}if(!this.tree.isRoot()){var parentCtrl=this.treeService.getController(this.tree.parent.id);parentCtrl&&parentCtrl.updateCheckboxState()}},TreeInternalComponent.prototype.hideMenus=function(){this.cursorCoordinates=void 0,this.isRightMenuVisible=!1,this.isLeftMenuVisible=!1},TreeInternalComponent.prototype.moveSibling=function(sibling,tree,position){var previousPositionInParent=sibling.positionInParent;if(position===draggable_events_1.DropPosition.Above)tree.moveSiblingAbove(sibling);else{if(position!==draggable_events_1.DropPosition.Below)return void console.error("Invalid drop position: "+draggable_events_1.DropPosition[position]);tree.moveSiblingBelow(sibling)}this.treeService.fireNodeMoved(sibling,sibling.parent,previousPositionInParent)},TreeInternalComponent.prototype.moveNodeToThisTreeAndRemoveFromPreviousOne=function(capturedTree,moveToTree){var _this=this;capturedTree.removeItselfFromParent(),setTimeout(function(){var addedChild=moveToTree.addChild(capturedTree);_this.treeService.fireNodeMoved(addedChild,capturedTree.parent)})},TreeInternalComponent.prototype.moveNodeToParentTreeAndRemoveFromPreviousOne=function(capturedTree,moveToTree,position){var _this=this;capturedTree.removeItselfFromParent(),setTimeout(function(){var insertAtIndex=moveToTree.positionInParent;position===draggable_events_1.DropPosition.Below&&insertAtIndex++;var addedSibling=moveToTree.addSibling(capturedTree,insertAtIndex);_this.treeService.fireNodeMoved(addedSibling,capturedTree.parent)})},TreeInternalComponent.prototype.onNodeDoubleClicked=function(e){this.treeService.fireNodeDoubleClicked(this.tree,e)},TreeInternalComponent.prototype.onNodeSelected=function(e){if(!this.tree.selectionAllowed)return void(this.tree.isBranch()&&this.onSwitchFoldingType());EventUtils.isLeftButtonClicked(e)&&(this.isSelected=!0,this.treeService.fireNodeSelected(this.tree))},TreeInternalComponent.prototype.onNodeUnselected=function(e){this.tree.selectionAllowed&&EventUtils.isLeftButtonClicked(e)&&(this.isSelected=!1,this.treeService.fireNodeUnselected(this.tree))},TreeInternalComponent.prototype.showRightMenu=function(e){this.tree.hasRightMenu()&&(EventUtils.isRightButtonClicked(e)&&(this.setCursorCoordinates(e),this.isRightMenuVisible=!this.isRightMenuVisible,this.nodeMenuService.hideMenuForAllNodesExcept(this.nodeElementRef)),e.preventDefault())},TreeInternalComponent.prototype.showLeftMenu=function(e){this.tree.hasLeftMenu()&&EventUtils.isLeftButtonClicked(e)&&(this.isLeftMenuVisible=!this.isLeftMenuVisible,this.nodeMenuService.hideMenuForAllNodesExcept(this.nodeElementRef),this.isLeftMenuVisible&&e.preventDefault())},TreeInternalComponent.prototype.onMenuItemSelected=function(e){switch(e.nodeMenuItemAction){case menu_events_1.NodeMenuItemAction.NewTag:case menu_events_1.NodeMenuItemAction.NewFolder:this.onNewSelected(e);break;case menu_events_1.NodeMenuItemAction.Rename:this.onRenameSelected();break;case menu_events_1.NodeMenuItemAction.Remove:this.onRemoveSelected();break;case menu_events_1.NodeMenuItemAction.Custom:this.onCustomSelected(),this.treeService.fireMenuItemSelected(this.tree,e.nodeMenuItemSelected);break;default:throw new Error("Chosen menu item doesn't exist")}},TreeInternalComponent.prototype.setCursorCoordinates=function(e){this.cursorCoordinates={x:e.clientX,y:e.clientY}},TreeInternalComponent.prototype.onNewSelected=function(e){this.tree.createNode(e.nodeMenuItemAction===menu_events_1.NodeMenuItemAction.NewFolder),this.hideMenus()},TreeInternalComponent.prototype.onRenameSelected=function(){this.tree.markAsBeingRenamed(),this.hideMenus()},TreeInternalComponent.prototype.onRemoveSelected=function(){var nodeId=fn_utils_1.get(this.tree,"node.id","");this.nodeDraggableService.removeCheckedNodeById(nodeId),this.treeService.deleteController(nodeId),this.treeService.fireNodeRemoved(this.tree)},TreeInternalComponent.prototype.onCustomSelected=function(){this.hideMenus()},TreeInternalComponent.prototype.onSwitchFoldingType=function(){this.tree.switchFoldingType(),this.treeService.fireNodeSwitchFoldingType(this.tree)},TreeInternalComponent.prototype.keydownHandler=function(e){this.treeService.fireNodeRenameKeydownEvent(this.tree,e)},TreeInternalComponent.prototype.inputChangeHandler=function(e){this.treeService.fireNodeRenameInputChanged(this.tree,e)},TreeInternalComponent.prototype.applyNewValue=function(e){if((e.action===editable_events_1.NodeEditableEventAction.Cancel||this.tree.isNew())&&tree_1.Tree.isValueEmpty(e.value))return this.treeService.fireNodeRemoved(this.tree);if(this.tree.isNew()&&(this.tree.value=e.value,this.treeService.fireNodeCreated(this.tree)),this.tree.isBeingRenamed()){var oldValue=this.tree.value;this.tree.value=e.value,this.treeService.fireNodeRenamed(oldValue,this.tree)}this.tree.markAsModified()},TreeInternalComponent.prototype.shouldShowInputForTreeValue=function(){return this.tree.isNew()||this.tree.isBeingRenamed()},TreeInternalComponent.prototype.isRootHidden=function(){return this.tree.isRoot()&&!this.settings.rootIsVisible},TreeInternalComponent.prototype.hasCustomMenu=function(){return this.tree.hasCustomMenu()},TreeInternalComponent.prototype.switchNodeCheckStatus=function(){this.tree.checked?this.onNodeUnchecked():this.onNodeChecked()},TreeInternalComponent.prototype.onNodeChecked=function(ignoreChildren){void 0===ignoreChildren&&(ignoreChildren=!1),this.checkboxElementRef&&(this.tree.checked||(this.nodeDraggableService.addCheckedNode(new captured_node_1.CapturedNode(this.nodeElementRef,this.tree)),this.onNodeIndeterminate(!1),this.tree.checked=!0,this.treeService.fireNodeChecked(this.tree)),ignoreChildren||this.executeOnChildController(function(controller){return controller.check()}))},TreeInternalComponent.prototype.onNodeUnchecked=function(ignoreChildren){void 0===ignoreChildren&&(ignoreChildren=!1),this.checkboxElementRef&&(this.tree.checked&&(this.nodeDraggableService.removeCheckedNodeById(this.tree.id),this.onNodeIndeterminate(!1),this.tree.checked=!1,this.treeService.fireNodeUnchecked(this.tree)),ignoreChildren||this.executeOnChildController(function(controller){return controller.uncheck()}))},TreeInternalComponent.prototype.onNodeIndeterminate=function(indeterminate){this.checkboxElementRef&&this.checkboxElementRef.nativeElement.indeterminate!==indeterminate&&(this.checkboxElementRef.nativeElement.indeterminate=indeterminate,this.treeService.fireNodeIndeterminate(this.tree,indeterminate))},TreeInternalComponent.prototype.executeOnChildController=function(executor){var _this=this;this.tree.hasLoadedChildren()&&this.tree.children.forEach(function(child){var controller=_this.treeService.getController(child.id);fn_utils_1.isNil(controller)||executor(controller)})},TreeInternalComponent.prototype.updateCheckboxState=function(){var _this=this;setTimeout(function(){var checkedChildrenAmount=_this.tree.checkedChildrenAmount();0===checkedChildrenAmount?(_this.onNodeUnchecked(!0),_this.onNodeIndeterminate(!1)):checkedChildrenAmount===_this.tree.loadedChildrenAmount()?_this.settings.ignoreParentOnCheck?_this.tree.checked||_this.onNodeIndeterminate(!0):(_this.onNodeChecked(!0),_this.onNodeIndeterminate(!1)):(_this.onNodeUnchecked(!0),_this.onNodeIndeterminate(!0))})},TreeInternalComponent.prototype.eventContainsId=function(event){return!!event.node.id||(console.warn('"Node with checkbox" feature requires a unique id assigned to every node, please consider to add it.'),!1)},TreeInternalComponent.ɵfac=function(t){return new(t||TreeInternalComponent)(i0.ɵɵdirectiveInject(i1.NodeMenuService),i0.ɵɵdirectiveInject(i2.TreeService),i0.ɵɵdirectiveInject(i3.NodeDraggableService),i0.ɵɵdirectiveInject(i0.ElementRef))},TreeInternalComponent.ɵcmp=i0.ɵɵdefineComponent({type:TreeInternalComponent,selectors:[["tree-internal"]],viewQuery:function(rf,ctx){if(1&rf&&i0.ɵɵviewQuery(_c0,1),2&rf){var _t=void 0;i0.ɵɵqueryRefresh(_t=i0.ɵɵloadQuery())&&(ctx.checkboxElementRef=_t.first)}},inputs:{tree:"tree",settings:"settings",template:"template"},features:[i0.ɵɵNgOnChangesFeature],decls:1,vars:1,consts:[["class","tree",3,"ngClass",4,"ngIf"],[1,"tree",3,"ngClass"],[1,"value-container",3,"ngClass","nodeDraggable","tree","contextmenu"],["class","node-checkbox",4,"ngIf"],[1,"folding",3,"ngClass","click"],["class","node-value",3,"node-selected","dblclick","click",4,"ngIf"],["type","text","class","node-value","id","rename-input",3,"nodeEditable","keydown","input","valueChanged",4,"ngIf"],["class","node-left-menu",3,"innerHTML","click",4,"ngIf"],[3,"menuItemSelected",4,"ngIf"],["class","drag-template",3,"innerHTML",4,"ngIf"],[3,"cursorCoordinates","menuItemSelected",4,"ngIf"],[3,"menuItems","cursorCoordinates","menuItemSelected",4,"ngIf"],[3,"ngStyle",4,"ngIf"],[3,"ngIf"],[1,"node-checkbox"],["checkbox","","type","checkbox",3,"disabled","checked","change"],["checkbox",""],[1,"node-value",3,"dblclick","click"],["class","node-template",3,"innerHTML",4,"ngIf"],["class","node-name","matTooltipClass","ng2-tree-tooltip",3,"innerHTML","matTooltip","matTooltipPosition",4,"ngIf"],["class","loading-children",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"node-template",3,"innerHTML"],["matTooltipClass","ng2-tree-tooltip",1,"node-name",3,"innerHTML","matTooltip","matTooltipPosition"],[1,"loading-children"],["type","text","id","rename-input",1,"node-value",3,"nodeEditable","keydown","input","valueChanged"],[1,"node-left-menu",3,"innerHTML","click"],[3,"menuItemSelected"],[1,"drag-template",3,"innerHTML"],[3,"cursorCoordinates","menuItemSelected"],[3,"menuItems","cursorCoordinates","menuItemSelected"],[3,"ngStyle"],[3,"tree","template","settings",4,"ngFor","ngForOf"],[3,"tree","template","settings"]],template:function(rf,ctx){1&rf&&i0.ɵɵtemplate(0,TreeInternalComponent_ul_0_Template,14,22,"ul",0),2&rf&&i0.ɵɵproperty("ngIf",ctx.tree)},directives:[i4.NgIf,i4.NgClass,i5.NodeDraggableDirective,i4.NgTemplateOutlet,i6.MatTooltip,i7.NodeEditableDirective,i8.NodeMenuComponent,i4.NgStyle,i4.NgForOf,TreeInternalComponent],pipes:[i9.SafeHtmlPipe,i4.AsyncPipe],encapsulation:2}),TreeInternalComponent}();exports.TreeInternalComponent=TreeInternalComponent,function(){("undefined"==typeof ngDevMode||ngDevMode)&&i0.ɵsetClassMetadata(TreeInternalComponent,[{type:core_1.Component,args:[{selector:"tree-internal",template:'\n  <ul class="tree" *ngIf="tree" [ngClass]="{rootless: isRootHidden()}">\n    <li>\n      <div class="value-container"\n        [ngClass]="{rootless: isRootHidden(), checked: tree.checked}"\n        [class.selected]="isSelected"\n        (contextmenu)="showRightMenu($event)"\n        [nodeDraggable]="nodeElementRef"\n        [tree]="tree">\n\n        <div class="node-checkbox" *ngIf="settings.showCheckboxes">\n          <input checkbox  type="checkbox" [disabled]="isReadOnly" [checked]="tree.checked" (change)="switchNodeCheckStatus()" #checkbox />\n        </div>\n\n        <div class="folding" (click)="onSwitchFoldingType()" [ngClass]="tree.foldingCssClass"></div>\n\n        <div class="node-value"\n          *ngIf="!shouldShowInputForTreeValue()"\n          [class.node-selected]="isSelected"\n          (dblclick)="onNodeDoubleClicked($event)"\n          (click)="onNodeSelected($event)">\n            <div *ngIf="tree.nodeTemplate" class="node-template" [innerHTML]="tree.nodeTemplate | safeHtml"></div>\n            <span *ngIf="!template" class="node-name"\n                  [innerHTML]="tree.value | safeHtml"\n                  [matTooltip]="tree.tooltip"\n                  [matTooltipPosition]="tree.tooltipPosition"\n                  matTooltipClass="ng2-tree-tooltip"></span>\n            <span class="loading-children" *ngIf="tree.childrenAreBeingLoaded()"></span>\n            <ng-template [ngTemplateOutlet]="template" [ngTemplateOutletContext]="{ $implicit: tree.node }"></ng-template>\n        </div>\n\n        <input type="text" class="node-value" id="rename-input"\n           *ngIf="shouldShowInputForTreeValue()"\n           [nodeEditable]="tree.value"\n           (keydown)="keydownHandler($event)"\n           (input)="inputChangeHandler($event)"\n           (valueChanged)="applyNewValue($event)"/>\n\n        <div class="node-left-menu" *ngIf="tree.hasLeftMenu()" (click)="showLeftMenu($event)" [innerHTML]="tree.leftMenuTemplate">\n        </div>\n        <node-menu *ngIf="tree.hasLeftMenu() && isLeftMenuVisible && !hasCustomMenu()"\n          (menuItemSelected)="onMenuItemSelected($event)">\n        </node-menu>\n        <div class="drag-template" *ngIf="tree.hasDragIcon()" [innerHTML]="tree.dragTemplate | safeHtml"></div>\n      </div>\n\n      <node-menu *ngIf="isRightMenuVisible && !hasCustomMenu()"\n           (menuItemSelected)="onMenuItemSelected($event)"\n           [cursorCoordinates]="cursorCoordinates">\n      </node-menu>\n\n      <node-menu *ngIf="hasCustomMenu() && (isRightMenuVisible || isLeftMenuVisible)"\n           [menuItems]="tree.menuItems"\n           (menuItemSelected)="onMenuItemSelected($event)"\n           [cursorCoordinates]="cursorCoordinates">\n      </node-menu>\n\n      <div *ngIf="tree.keepNodesInDOM()" [ngStyle]="{\'display\': tree.isNodeExpanded() ? \'block\' : \'none\'}">\n        <tree-internal *ngFor="let child of tree.childrenAsync | async" [tree]="child" [template]="template" [settings]="settings"></tree-internal>\n      </div>\n      <ng-template [ngIf]="tree.isNodeExpanded() && !tree.keepNodesInDOM()">\n        <tree-internal *ngFor="let child of tree.childrenAsync | async" [tree]="child" [template]="template" [settings]="settings"></tree-internal>\n      </ng-template>\n    </li>\n  </ul>\n  '}]}],function(){return[{type:i1.NodeMenuService},{type:i2.TreeService},{type:i3.NodeDraggableService},{type:i0.ElementRef}]},{tree:[{type:core_1.Input}],settings:[{type:core_1.Input}],template:[{type:core_1.Input}],checkboxElementRef:[{type:core_1.ViewChild,args:["checkbox"]}]})}()}),$__System.registerDynamic("1a",[],!0,function($__require,exports,module){"use strict";this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.CapturedNode=void 0;var CapturedNode=function(){function CapturedNode(anElement,aTree){this.anElement=anElement,this.aTree=aTree}return CapturedNode.prototype.canBeDroppedAt=function(element){return!this.sameAs(element)&&!this.contains(element)},CapturedNode.prototype.contains=function(other){return this.element.nativeElement.contains(other.nativeElement)},CapturedNode.prototype.sameAs=function(other){return this.element===other},Object.defineProperty(CapturedNode.prototype,"element",{get:function(){return this.anElement},enumerable:!1,configurable:!0}),Object.defineProperty(CapturedNode.prototype,"tree",{get:function(){return this.aTree},enumerable:!1,configurable:!0}),CapturedNode}();exports.CapturedNode=CapturedNode}),$__System.registerDynamic("f",["15"],!0,function($__require,exports,module){"use strict";this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.TreeStatus=exports.Ng2TreeSettings=exports.TreeModelSettings=exports.FoldingType=void 0;var fn_utils_1=$__require("15"),FoldingType=function(){function FoldingType(_cssClass){this._cssClass=_cssClass}return Object.defineProperty(FoldingType.prototype,"cssClass",{get:function(){return this._cssClass},enumerable:!1,configurable:!0}),FoldingType.Expanded=new FoldingType("node-expanded"),FoldingType.Collapsed=new FoldingType("node-collapsed"),FoldingType.Empty=new FoldingType("node-empty"),FoldingType.Leaf=new FoldingType("node-leaf"),FoldingType}();exports.FoldingType=FoldingType;var TreeModelSettings=function(){function TreeModelSettings(){}return TreeModelSettings.merge=function(child,parent){var parentCascadingSettings=fn_utils_1.omit(fn_utils_1.get(parent,"settings"),TreeModelSettings.NOT_CASCADING_SETTINGS);return fn_utils_1.defaultsDeep({},fn_utils_1.get(child,"settings"),parentCascadingSettings,{static:!1,leftMenu:!1,rightMenu:!0,dragIcon:!1,isCollapsedOnInit:!1,checked:!1,keepNodesInDOM:!1,selectionAllowed:!0})},TreeModelSettings.NOT_CASCADING_SETTINGS=["selectionAllowed"],TreeModelSettings}();exports.TreeModelSettings=TreeModelSettings;var Ng2TreeSettings=function(){function Ng2TreeSettings(){this.rootIsVisible=!0,this.showCheckboxes=!1,this.enableCheckboxes=!0,this.ignoreParentOnCheck=!1}return Ng2TreeSettings}();exports.Ng2TreeSettings=Ng2TreeSettings;!function(TreeStatus){TreeStatus[TreeStatus.New=0]="New",TreeStatus[TreeStatus.Modified=1]="Modified",TreeStatus[TreeStatus.IsBeingRenamed=2]="IsBeingRenamed"}(exports.TreeStatus||(exports.TreeStatus={}))}),$__System.registerDynamic("23",["24","25"],!0,function($__require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function v1(options,buf,offset){var i=buf&&offset||0,b=buf||[];options=options||{};var node=options.node||_nodeId,clockseq=void 0!==options.clockseq?options.clockseq:_clockseq;if(null==node||null==clockseq){var seedBytes=options.random||(options.rng||_rng.default)();null==node&&(node=_nodeId=[1|seedBytes[0],seedBytes[1],seedBytes[2],seedBytes[3],seedBytes[4],seedBytes[5]]),null==clockseq&&(clockseq=_clockseq=16383&(seedBytes[6]<<8|seedBytes[7]))}var msecs=void 0!==options.msecs?options.msecs:(new Date).getTime(),nsecs=void 0!==options.nsecs?options.nsecs:_lastNSecs+1,dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&void 0===options.clockseq&&(clockseq=clockseq+1&16383),(dt<0||msecs>_lastMSecs)&&void 0===options.nsecs&&(nsecs=0),nsecs>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=msecs,_lastNSecs=nsecs,_clockseq=clockseq,msecs+=122192928e5;var tl=(1e4*(268435455&msecs)+nsecs)%4294967296;b[i++]=tl>>>24&255,b[i++]=tl>>>16&255,b[i++]=tl>>>8&255,b[i++]=255&tl;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255,b[i++]=255&tmh,b[i++]=tmh>>>24&15|16,b[i++]=tmh>>>16&255,b[i++]=clockseq>>>8|128,b[i++]=255&clockseq;for(var n=0;n<6;++n)b[i+n]=node[n];return buf||(0,_bytesToUuid.default)(b)}this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _nodeId,_clockseq,_rng=_interopRequireDefault($__require("24")),_bytesToUuid=_interopRequireDefault($__require("25")),_lastMSecs=0,_lastNSecs=0,_default=v1;exports.default=_default,module.exports=exports.default}),$__System.registerDynamic("26",["@empty"],!0,function($__require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function md5(bytes){return Array.isArray(bytes)?bytes=Buffer.from(bytes):"string"==typeof bytes&&(bytes=Buffer.from(bytes,"utf8")),_crypto.default.createHash("md5").update(bytes).digest()}this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _crypto=_interopRequireDefault($__require("@empty")),_default=md5;exports.default=_default,module.exports=exports.default}),$__System.registerDynamic("27",["28","26"],!0,function($__require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _v=_interopRequireDefault($__require("28")),_md=_interopRequireDefault($__require("26"));const v3=(0,_v.default)("v3",48,_md.default);var _default=v3;exports.default=_default,module.exports=exports.default}),$__System.registerDynamic("24",["@empty"],!0,function($__require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function rng(){return _crypto.default.randomBytes(16)}this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=rng;var _crypto=_interopRequireDefault($__require("@empty"));module.exports=exports.default}),$__System.registerDynamic("29",["24","25"],!0,function($__require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function v4(options,buf,offset){var i=buf&&offset||0;"string"==typeof options&&(buf="binary"===options?new Array(16):null,options=null),options=options||{};var rnds=options.random||(options.rng||_rng.default)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf)for(var ii=0;ii<16;++ii)buf[i+ii]=rnds[ii];return buf||(0,_bytesToUuid.default)(rnds)}this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _rng=_interopRequireDefault($__require("24")),_bytesToUuid=_interopRequireDefault($__require("25")),_default=v4;exports.default=_default,module.exports=exports.default}),$__System.registerDynamic("25",[],!0,function($__require,exports,module){"use strict";function bytesToUuid(buf,offset){var i=offset||0,bth=byteToHex;return[bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]]].join("")}this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;for(var byteToHex=[],i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);var _default=bytesToUuid;exports.default=_default,module.exports=exports.default}),$__System.registerDynamic("28",["25"],!0,function($__require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function uuidToBytes(uuid){var bytes=[];return uuid.replace(/[a-fA-F0-9]{2}/g,function(hex){bytes.push(parseInt(hex,16))}),bytes}function stringToBytes(str){str=unescape(encodeURIComponent(str));for(var bytes=new Array(str.length),i=0;i<str.length;i++)bytes[i]=str.charCodeAt(i);return bytes}function _default(name,version,hashfunc){var generateUUID=function(value,namespace,buf,offset){var off=buf&&offset||0;if("string"==typeof value&&(value=stringToBytes(value)),"string"==typeof namespace&&(namespace=uuidToBytes(namespace)),!Array.isArray(value))throw TypeError("value must be an array of bytes");if(!Array.isArray(namespace)||16!==namespace.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var bytes=hashfunc(namespace.concat(value));if(bytes[6]=15&bytes[6]|version,bytes[8]=63&bytes[8]|128,buf)for(var idx=0;idx<16;++idx)buf[off+idx]=bytes[idx];return buf||(0,_bytesToUuid.default)(bytes)};try{generateUUID.name=name}catch(err){}return generateUUID.DNS=DNS,generateUUID.URL=URL,generateUUID}this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_default,exports.URL=exports.DNS=void 0;var _bytesToUuid=_interopRequireDefault($__require("25"));const DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8";exports.DNS=DNS;const URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";exports.URL=URL}),$__System.registerDynamic("2a",["@empty"],!0,function($__require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function sha1(bytes){return Array.isArray(bytes)?bytes=Buffer.from(bytes):"string"==typeof bytes&&(bytes=Buffer.from(bytes,"utf8")),_crypto.default.createHash("sha1").update(bytes).digest()}this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _crypto=_interopRequireDefault($__require("@empty")),_default=sha1;exports.default=_default,module.exports=exports.default}),$__System.registerDynamic("2b",["28","2a"],!0,function($__require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _v=_interopRequireDefault($__require("28")),_sha=_interopRequireDefault($__require("2a"));const v5=(0,_v.default)("v5",80,_sha.default);var _default=v5;exports.default=_default,module.exports=exports.default}),$__System.registerDynamic("2c",["23","27","29","2b"],!0,function($__require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}this||self;Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"v1",{enumerable:!0,get:function(){return _v.default}}),Object.defineProperty(exports,"v3",{enumerable:!0,get:function(){return _v2.default}}),Object.defineProperty(exports,"v4",{enumerable:!0,get:function(){return _v3.default}}),Object.defineProperty(exports,"v5",{enumerable:!0,get:function(){return _v4.default}});var _v=_interopRequireDefault($__require("23")),_v2=_interopRequireDefault($__require("27")),_v3=_interopRequireDefault($__require("29")),_v4=_interopRequireDefault($__require("2b"))}),$__System.registerDynamic("10",["15","f","2c","1b"],!0,function($__require,exports,module){"use strict";this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.Tree=void 0;var ChildrenLoadingState,fn_utils_1=$__require("15"),tree_types_1=$__require("f"),uuid_1=$__require("2c"),rxjs_1=$__require("1b");!function(ChildrenLoadingState){ChildrenLoadingState[ChildrenLoadingState.NotStarted=0]="NotStarted",ChildrenLoadingState[ChildrenLoadingState.Loading=1]="Loading",ChildrenLoadingState[ChildrenLoadingState.Completed=2]="Completed"}(ChildrenLoadingState||(ChildrenLoadingState={}));var Tree=function(){function Tree(node,parent,isBranch){var _this=this;void 0===parent&&(parent=null),void 0===isBranch&&(isBranch=!1),this._childrenLoadingState=ChildrenLoadingState.NotStarted,this._childrenAsyncOnce=fn_utils_1.once(function(){return new rxjs_1.Observable(function(observer){setTimeout(function(){_this._childrenLoadingState=ChildrenLoadingState.Loading,_this._loadChildren(function(children){_this._children=(children||[]).map(function(child){return new Tree(child,_this)}),_this._childrenLoadingState=ChildrenLoadingState.Completed,observer.next(_this.children),observer.complete()})})})}),this.buildTreeFromModel(node,parent,isBranch||Array.isArray(node.children))}return Tree.isValueEmpty=function(value){return fn_utils_1.isEmpty(fn_utils_1.trim(value))},Tree.isRenamable=function(value){return fn_utils_1.has(value,"setName")&&fn_utils_1.isFunction(value.setName)&&fn_utils_1.has(value,"toString")&&fn_utils_1.isFunction(value.toString)&&value.toString!==Object.toString},Tree.cloneTreeShallow=function(origin){var tree=new Tree(Object.assign({},origin.node));return tree._children=origin._children,tree},Tree.applyNewValueToRenamable=function(value,newValue){var renamableValue=Object.assign({},value);return renamableValue.setName(newValue),renamableValue},Tree.prototype.buildTreeFromModel=function(model,parent,isBranch){var _this=this;this.parent=parent,this.node=Object.assign(fn_utils_1.omit(model,"children"),{settings:tree_types_1.TreeModelSettings.merge(model,fn_utils_1.get(parent,"node"))},{emitLoadNextLevel:!0===model.emitLoadNextLevel}),fn_utils_1.isFunction(this.node.loadChildren)?this._loadChildren=this.node.loadChildren:fn_utils_1.get(model,"children",[]).forEach(function(child,index){_this._addChild(new Tree(child,_this),index)}),Array.isArray(this._children)||(this._children=this.node.loadChildren||isBranch?[]:null)},Tree.prototype.hasDeferredChildren=function(){return"function"==typeof this._loadChildren},Tree.prototype.loadingChildrenRequested=function(){this._childrenLoadingState=ChildrenLoadingState.Loading},Tree.prototype.childrenAreBeingLoaded=function(){return this._childrenLoadingState===ChildrenLoadingState.Loading},Tree.prototype.childrenWereLoaded=function(){return this._childrenLoadingState===ChildrenLoadingState.Completed},Tree.prototype.canLoadChildren=function(){return this._childrenLoadingState===ChildrenLoadingState.NotStarted&&this.foldingType===tree_types_1.FoldingType.Expanded&&!!this._loadChildren},Tree.prototype.childrenShouldBeLoaded=function(){return!(this.childrenWereLoaded()||!this._loadChildren&&!0!==this.node.emitLoadNextLevel)},Object.defineProperty(Tree.prototype,"children",{get:function(){return this._children},enumerable:!1,configurable:!0}),Object.defineProperty(Tree.prototype,"childrenAsync",{get:function(){return this.canLoadChildren()?this._childrenAsyncOnce():rxjs_1.of(this.children)},enumerable:!1,configurable:!0}),Tree.prototype.reloadChildren=function(){var _this=this;this.childrenShouldBeLoaded()&&(this._childrenLoadingState=ChildrenLoadingState.Loading,this._loadChildren(function(children){_this._children=children&&children.map(function(child){return new Tree(child,_this)}),_this._childrenLoadingState=ChildrenLoadingState.Completed}))},Tree.prototype.setChildren=function(children){var _this=this;this._children=children&&children.map(function(child){return new Tree(child,_this)}),this.childrenShouldBeLoaded()&&(this._childrenLoadingState=ChildrenLoadingState.Completed)},Tree.prototype.createNode=function(isBranch,model){void 0===model&&(model={value:""});var tree=new Tree(model,this,isBranch);return model.id||tree.markAsNew(),tree.id=tree.id||uuid_1.v4(),!this.childrenShouldBeLoaded()||this.childrenAreBeingLoaded()||this.childrenWereLoaded()?this.isLeaf()?this.addSibling(tree):this.addChild(tree):null},Object.defineProperty(Tree.prototype,"value",{get:function(){return this.node.value},set:function(value){if("string"==typeof value||Tree.isRenamable(value)){var stringifiedValue=""+value;Tree.isRenamable(this.value)?this.node.value=Tree.applyNewValueToRenamable(this.value,stringifiedValue):this.node.value=Tree.isValueEmpty(stringifiedValue)?this.node.value:stringifiedValue}},enumerable:!1,configurable:!0}),Object.defineProperty(Tree.prototype,"checked",{get:function(){return!!fn_utils_1.get(this.node.settings,"checked")},set:function(checked){this.node.settings=Object.assign({},this.node.settings,{checked:checked})},enumerable:!1,configurable:!0}),Object.defineProperty(Tree.prototype,"checkedChildren",{get:function(){return this.hasLoadedChildren()?this.children.filter(function(child){return child.checked}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(Tree.prototype,"selectionAllowed",{get:function(){var value=fn_utils_1.get(this.node.settings,"selectionAllowed");return!!fn_utils_1.isNil(value)||!!value},set:function(selectionAllowed){this.node.settings=Object.assign({},this.node.settings,{selectionAllowed:selectionAllowed})},enumerable:!1,configurable:!0}),Tree.prototype.hasLoadedChildren=function(){return!fn_utils_1.isEmpty(this.children)},Tree.prototype.loadedChildrenAmount=function(){return fn_utils_1.size(this.children)},Tree.prototype.checkedChildrenAmount=function(){return fn_utils_1.size(this.checkedChildren)},Tree.prototype.addSibling=function(sibling,position){return Array.isArray(fn_utils_1.get(this.parent,"children"))?this.parent.addChild(sibling,position):null},Tree.prototype.addChild=function(child,position){var newborn=this._addChild(Tree.cloneTreeShallow(child),position);return this._setFoldingType(),this.isNodeCollapsed()&&this.switchFoldingType(),newborn},Tree.prototype._addChild=function(child,position){return void 0===position&&(position=fn_utils_1.size(this._children)||0),child.parent=this,Array.isArray(this._children)?this._children.splice(position,0,child):this._children=[child],child},Tree.prototype.moveSiblingAbove=function(sibling){if(this.hasSibling(sibling)){var siblings=this.parent._children,siblingToMove=siblings.splice(sibling.positionInParent,1)[0],insertAtIndex=this.positionInParent;siblings.splice(insertAtIndex,0,siblingToMove)}},Tree.prototype.moveSiblingBelow=function(sibling){if(this.hasSibling(sibling)){var siblings=this.parent._children,siblingToMove=siblings.splice(sibling.positionInParent,1)[0],insertAtIndex=this.positionInParent+1;siblings.splice(insertAtIndex,0,siblingToMove)}},Object.defineProperty(Tree.prototype,"positionInParent",{get:function(){return this.isRoot()?-1:this.parent.children?this.parent.children.indexOf(this):-1},enumerable:!1,configurable:!0}),Tree.prototype.isStatic=function(){return fn_utils_1.get(this.node.settings,"static",!1)},Tree.prototype.hasLeftMenu=function(){return!fn_utils_1.get(this.node.settings,"static",!1)&&fn_utils_1.get(this.node.settings,"leftMenu",!1)},Tree.prototype.hasRightMenu=function(){return!fn_utils_1.get(this.node.settings,"static",!1)&&fn_utils_1.get(this.node.settings,"rightMenu",!1)},Tree.prototype.hasDragIcon=function(){return!fn_utils_1.get(this.node.settings,"static",!1)&&fn_utils_1.get(this.node.settings,"dragIcon",!1)},Tree.prototype.isLeaf=function(){return!this.isBranch()},Object.defineProperty(Tree.prototype,"menuItems",{get:function(){return fn_utils_1.get(this.node.settings,"menuItems")},enumerable:!1,configurable:!0}),Object.defineProperty(Tree.prototype,"tooltip",{get:function(){return fn_utils_1.get(this.node,"tooltip","")},enumerable:!1,configurable:!0}),Object.defineProperty(Tree.prototype,"tooltipPosition",{get:function(){return fn_utils_1.get(this.node,"tooltipPosition","above")},enumerable:!1,configurable:!0}),Tree.prototype.hasCustomMenu=function(){return!this.isStatic()&&!!fn_utils_1.get(this.node.settings,"menuItems",!1)},Tree.prototype.isBranch=function(){return!0===this.node.emitLoadNextLevel||Array.isArray(this._children)},Tree.prototype.hasChildren=function(){return!fn_utils_1.isEmpty(this._children)||this.childrenShouldBeLoaded()},Tree.prototype.isRoot=function(){return fn_utils_1.isNil(this.parent)},Tree.prototype.hasSibling=function(tree){return!this.isRoot()&&fn_utils_1.includes(this.parent.children,tree)},Tree.prototype.hasChild=function(tree){return fn_utils_1.includes(this._children,tree)},Tree.prototype.removeChild=function(tree){if(this.hasChildren()){var childIndex=this._children.findIndex(function(child){return child===tree});childIndex>=0&&this._children.splice(childIndex,1),this._setFoldingType()}},Tree.prototype.removeItselfFromParent=function(){this.parent&&this.parent.removeChild(this)},Tree.prototype.switchFoldingType=function(){!this.isLeaf()&&this.hasChildren()&&(this.disableCollapseOnInit(),this.node._foldingType=this.isNodeExpanded()?tree_types_1.FoldingType.Collapsed:tree_types_1.FoldingType.Expanded)},Tree.prototype.isNodeExpanded=function(){return this.foldingType===tree_types_1.FoldingType.Expanded},Tree.prototype.isNodeCollapsed=function(){return this.foldingType===tree_types_1.FoldingType.Collapsed},Tree.prototype._setFoldingType=function(){this.childrenShouldBeLoaded()?this.node._foldingType=tree_types_1.FoldingType.Collapsed:this._children&&!fn_utils_1.isEmpty(this._children)?this.node._foldingType=this.isCollapsedOnInit()?tree_types_1.FoldingType.Collapsed:tree_types_1.FoldingType.Expanded:Array.isArray(this._children)?this.node._foldingType=tree_types_1.FoldingType.Empty:this.node._foldingType=tree_types_1.FoldingType.Leaf},Object.defineProperty(Tree.prototype,"foldingType",{get:function(){return this.node._foldingType||this._setFoldingType(),this.node._foldingType},enumerable:!1,configurable:!0}),Object.defineProperty(Tree.prototype,"foldingCssClass",{get:function(){return this.getCssClassesFromSettings()||this.foldingType.cssClass},enumerable:!1,configurable:!0}),Tree.prototype.getCssClassesFromSettings=function(){return this.node._foldingType||this._setFoldingType(),this.node._foldingType===tree_types_1.FoldingType.Collapsed?fn_utils_1.get(this.node.settings,"cssClasses.collapsed",null):this.node._foldingType===tree_types_1.FoldingType.Expanded?fn_utils_1.get(this.node.settings,"cssClasses.expanded",null):this.node._foldingType===tree_types_1.FoldingType.Empty?fn_utils_1.get(this.node.settings,"cssClasses.empty",null):fn_utils_1.get(this.node.settings,"cssClasses.leaf",null)},Object.defineProperty(Tree.prototype,"nodeTemplate",{get:function(){return this.getTemplateFromSettings()},enumerable:!1,configurable:!0}),Tree.prototype.getTemplateFromSettings=function(){return this.isLeaf()?fn_utils_1.get(this.node.settings,"templates.leaf",""):fn_utils_1.get(this.node.settings,"templates.node","")},Object.defineProperty(Tree.prototype,"leftMenuTemplate",{get:function(){return this.hasLeftMenu()?fn_utils_1.get(this.node.settings,"templates.leftMenu","<span></span>"):""},enumerable:!1,configurable:!0}),Object.defineProperty(Tree.prototype,"dragTemplate",{get:function(){return fn_utils_1.get(this.node.settings,"templates.dragIcon","<span></span>")},enumerable:!1,configurable:!0}),Tree.prototype.disableCollapseOnInit=function(){this.node.settings&&(this.node.settings.isCollapsedOnInit=!1)},Tree.prototype.isCollapsedOnInit=function(){return!!fn_utils_1.get(this.node.settings,"isCollapsedOnInit")},Tree.prototype.keepNodesInDOM=function(){return fn_utils_1.get(this.node.settings,"keepNodesInDOM")},Tree.prototype.isNew=function(){return this.node._status===tree_types_1.TreeStatus.New},Object.defineProperty(Tree.prototype,"id",{get:function(){return fn_utils_1.get(this.node,"id")},set:function(id){this.node.id=id},enumerable:!1,configurable:!0}),Tree.prototype.markAsNew=function(){this.node._status=tree_types_1.TreeStatus.New},Tree.prototype.isBeingRenamed=function(){return this.node._status===tree_types_1.TreeStatus.IsBeingRenamed},Tree.prototype.markAsBeingRenamed=function(){this.node._status=tree_types_1.TreeStatus.IsBeingRenamed},Tree.prototype.isModified=function(){return this.node._status===tree_types_1.TreeStatus.Modified},Tree.prototype.markAsModified=function(){this.node._status=tree_types_1.TreeStatus.Modified},Tree.prototype.toTreeModel=function(){var model=fn_utils_1.defaultsDeep(this.isLeaf()?{}:{children:[]},this.node);return this.children&&this.children.forEach(function(child){model.children.push(child.toTreeModel())}),model},Tree}();exports.Tree=Tree}),$__System.registerDynamic("1e",["d","19","1a","10","18"],!0,function($__require,exports,module){"use strict";this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.NodeDraggableDirective=void 0;var core_1=$__require("d"),node_draggable_service_1=$__require("19"),captured_node_1=$__require("1a"),draggable_events_1=($__require("10"),$__require("18")),i0=$__require("d"),i1=$__require("19"),NodeDraggableDirective=function(){function NodeDraggableDirective(element,nodeDraggableService,renderer){this.element=element,this.nodeDraggableService=nodeDraggableService,this.renderer=renderer,this.disposersForDragListeners=[],this.nodeNativeElement=element.nativeElement}return NodeDraggableDirective.prototype.ngOnInit=function(){this.tree.isStatic()||(this.renderer.setAttribute(this.nodeNativeElement,"draggable","true"),this.disposersForDragListeners.push(this.renderer.listen(this.nodeNativeElement,"dragenter",this.handleDragEnter.bind(this))),this.disposersForDragListeners.push(this.renderer.listen(this.nodeNativeElement,"dragover",this.handleDragOver.bind(this))),this.disposersForDragListeners.push(this.renderer.listen(this.nodeNativeElement,"dragstart",this.handleDragStart.bind(this))),this.disposersForDragListeners.push(this.renderer.listen(this.nodeNativeElement,"dragleave",this.handleDragLeave.bind(this))),this.disposersForDragListeners.push(this.renderer.listen(this.nodeNativeElement,"drop",this.handleDrop.bind(this))),this.disposersForDragListeners.push(this.renderer.listen(this.nodeNativeElement,"dragend",this.handleDragEnd.bind(this))))},NodeDraggableDirective.prototype.ngOnDestroy=function(){this.disposersForDragListeners.forEach(function(dispose){return dispose()})},NodeDraggableDirective.prototype.handleDragStart=function(e){if(this.tree.isBeingRenamed())return void e.preventDefault();if(e.stopPropagation&&e.stopPropagation(),this.tree.checked||this.nodeDraggableService.setDraggedNode(new captured_node_1.CapturedNode(this.nodeDraggable,this.tree)),this.notifyThatNodeIsBeingDragged(),this.tree.node.settings.dragImageId){var elem=document.getElementById(this.tree.node.settings.dragImageId);elem&&e.dataTransfer.setDragImage(elem,0,0)}this.applyDraggedNodeClasses(),e.dataTransfer.setData("text",NodeDraggableDirective.DATA_TRANSFER_STUB_DATA),e.dataTransfer.effectAllowed="all"},NodeDraggableDirective.prototype.handleDragOver=function(e){var draggedNode=this.nodeDraggableService.getDraggedNode();if((!draggedNode||!draggedNode.contains({nativeElement:e.currentTarget}))&&(draggedNode||!this.tree.checked)){var newDropPosition=this.determineDropPosition(e);this.removeClasses([this.getDropPositionClassName(this.currentDropPosition)]),this.tree.isBranch()&&this.tree.isNodeExpanded()&&newDropPosition===draggable_events_1.DropPosition.Below||draggedNode&&this.tree.isBranch()&&this.tree.hasChild(draggedNode.tree)&&newDropPosition===draggable_events_1.DropPosition.Into||(e.preventDefault(),e.dataTransfer.dropEffect="move",this.addClasses([this.getDropPositionClassName(newDropPosition)]),this.currentDropPosition=newDropPosition)}},NodeDraggableDirective.prototype.handleDragEnter=function(e){e.preventDefault(),this.containsElementAt(e)&&this.addClasses(["over-drop-target",this.getDragOverClassName()])},NodeDraggableDirective.prototype.handleDragLeave=function(e){this.containsElementAt(e)||this.removeClasses(["over-drop-target",this.getDragOverClassName(),this.getDropPositionClassName(this.currentDropPosition)])},NodeDraggableDirective.prototype.handleDragEnd=function(e){this.removeClasses(["over-drop-target",this.getDragOverClassName(),this.getDropPositionClassName(this.currentDropPosition)]),this.removeDraggedNodeClasses(),this.nodeDraggableService.releaseDraggedNode()},NodeDraggableDirective.prototype.handleDrop=function(e){if(e.preventDefault(),e.stopPropagation&&e.stopPropagation(),this.removeClasses(["over-drop-target",this.getDragOverClassName(),this.getDropPositionClassName(this.currentDropPosition)]),!this.isDropPossible(e))return!1;(this.nodeDraggableService.getDraggedNode()||this.nodeDraggableService.getCheckedNodes().length>0)&&(this.removeDraggedNodeClasses(),this.notifyThatNodeWasDropped(),this.releaseNodes())},NodeDraggableDirective.prototype.determineDropPosition=function(e){var dropPosition,currentTarget=e.currentTarget,elemHeight=currentTarget.offsetHeight,relativeMousePosition=e.clientY-currentTarget.getBoundingClientRect().top;if(this.tree.isBranch()){var third=elemHeight/3,twoThirds=2*third;dropPosition=relativeMousePosition<third?draggable_events_1.DropPosition.Above:relativeMousePosition>=third&&relativeMousePosition<=twoThirds?draggable_events_1.DropPosition.Into:draggable_events_1.DropPosition.Below}else{dropPosition=relativeMousePosition<=elemHeight/2?draggable_events_1.DropPosition.Above:draggable_events_1.DropPosition.Below}return dropPosition},NodeDraggableDirective.prototype.getDragOverClassName=function(){return this.tree.isBranch()?"over-drop-branch":"over-drop-leaf"},NodeDraggableDirective.prototype.getDropPositionClassName=function(dropPosition){switch(dropPosition){case draggable_events_1.DropPosition.Above:return"over-drop-above";case draggable_events_1.DropPosition.Into:return"over-drop-into";case draggable_events_1.DropPosition.Below:return"over-drop-below"}},NodeDraggableDirective.prototype.isDropPossible=function(e){var _this=this,draggedNode=this.nodeDraggableService.getDraggedNode();if(draggedNode)return draggedNode.canBeDroppedAt(this.nodeDraggable)&&this.containsElementAt(e);var capturedNodes=this.nodeDraggableService.getCheckedNodes();return capturedNodes.length>0&&capturedNodes.some(function(cn){return cn.canBeDroppedAt(_this.nodeDraggable)})&&this.containsElementAt(e)},NodeDraggableDirective.prototype.releaseNodes=function(){this.nodeDraggableService.getDraggedNode()?this.nodeDraggableService.releaseDraggedNode():this.nodeDraggableService.releaseCheckedNodes()},NodeDraggableDirective.prototype.applyDraggedNodeClasses=function(){var draggedNode=this.nodeDraggableService.getDraggedNode();draggedNode?draggedNode.element.nativeElement.classList.add("being-dragged"):this.nodeDraggableService.getCheckedNodes().forEach(function(n){return n.element.nativeElement.classList.add("being-dragged")})},NodeDraggableDirective.prototype.removeDraggedNodeClasses=function(){var draggedNode=this.nodeDraggableService.getDraggedNode();draggedNode?draggedNode.element.nativeElement.classList.remove("being-dragged"):this.nodeDraggableService.getCheckedNodes().forEach(function(n){return n.element.nativeElement.classList.remove("being-dragged")})},NodeDraggableDirective.prototype.containsElementAt=function(e){var _a=e.x,x=void 0===_a?e.clientX:_a,_b=e.y,y=void 0===_b?e.clientY:_b;return this.nodeNativeElement.contains(document.elementFromPoint(x,y))},NodeDraggableDirective.prototype.addClasses=function(classNames){var classList=this.nodeNativeElement.classList;classList.add.apply(classList,classNames)},NodeDraggableDirective.prototype.removeClasses=function(classNames){var classList=this.nodeNativeElement.classList;classList.remove.apply(classList,classNames)},NodeDraggableDirective.prototype.notifyThatNodeWasDropped=function(){var draggedNode=this.nodeDraggableService.getDraggedNode(),nodes=draggedNode?[draggedNode]:this.nodeDraggableService.getCheckedNodes();this.nodeDraggableService.fireNodeDragged(nodes,this.nodeDraggable,this.currentDropPosition)},NodeDraggableDirective.prototype.notifyThatNodeIsBeingDragged=function(){var draggedNode=this.nodeDraggableService.getDraggedNode(),nodes=draggedNode?[draggedNode]:this.nodeDraggableService.getCheckedNodes();this.nodeDraggableService.fireNodeDragStart(nodes,this.nodeDraggable)},NodeDraggableDirective.DATA_TRANSFER_STUB_DATA="some browsers enable drag-n-drop only when dataTransfer has data",NodeDraggableDirective.ɵfac=function(t){return new(t||NodeDraggableDirective)(i0.ɵɵdirectiveInject(core_1.ElementRef),i0.ɵɵdirectiveInject(node_draggable_service_1.NodeDraggableService),i0.ɵɵdirectiveInject(core_1.Renderer2))},NodeDraggableDirective.ɵdir=i0.ɵɵdefineDirective({type:NodeDraggableDirective,selectors:[["","nodeDraggable",""]],inputs:{nodeDraggable:"nodeDraggable",tree:"tree"}}),NodeDraggableDirective}();exports.NodeDraggableDirective=NodeDraggableDirective,function(){("undefined"==typeof ngDevMode||ngDevMode)&&i0.ɵsetClassMetadata(NodeDraggableDirective,[{type:core_1.Directive,args:[{selector:"[nodeDraggable]"}]}],function(){return[{type:i0.ElementRef,decorators:[{type:core_1.Inject,args:[core_1.ElementRef]}]},{type:i1.NodeDraggableService,decorators:[{type:core_1.Inject,args:[node_draggable_service_1.NodeDraggableService]}]},{type:i0.Renderer2,decorators:[{type:core_1.Inject,args:[core_1.Renderer2]}]}]},{nodeDraggable:[{type:core_1.Input}],tree:[{type:core_1.Input}]})}()}),$__System.registerDynamic("17",[],!0,function($__require,exports,module){"use strict";this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.NodeEditableEventAction=void 0;!function(NodeEditableEventAction){NodeEditableEventAction[NodeEditableEventAction.Cancel=0]="Cancel"}(exports.NodeEditableEventAction||(exports.NodeEditableEventAction={}))}),$__System.registerDynamic("20",["d","17"],!0,function($__require,exports,module){"use strict";this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.NodeEditableDirective=void 0;var core_1=$__require("d"),editable_events_1=$__require("17"),i0=$__require("d"),NodeEditableDirective=function(){function NodeEditableDirective(renderer,elementRef){this.renderer=renderer,this.elementRef=elementRef,this.valueChanged=new core_1.EventEmitter(!1)}return NodeEditableDirective.prototype.ngOnInit=function(){var nativeElement=this.elementRef.nativeElement;nativeElement&&nativeElement.focus(),this.renderer.setProperty(nativeElement,"value",this.nodeValue)},NodeEditableDirective.prototype.applyNewValue=function(newNodeValue){this.valueChanged.emit({type:"keyup",value:newNodeValue})},NodeEditableDirective.prototype.applyNewValueByLoosingFocus=function(newNodeValue){this.valueChanged.emit({type:"blur",value:newNodeValue})},NodeEditableDirective.prototype.cancelEditing=function(){this.valueChanged.emit({type:"keyup",value:this.nodeValue,action:editable_events_1.NodeEditableEventAction.Cancel})},NodeEditableDirective.ɵfac=function(t){return new(t||NodeEditableDirective)(i0.ɵɵdirectiveInject(core_1.Renderer2),i0.ɵɵdirectiveInject(core_1.ElementRef))},NodeEditableDirective.ɵdir=i0.ɵɵdefineDirective({type:NodeEditableDirective,selectors:[["","nodeEditable",""]],hostBindings:function(rf,ctx){1&rf&&i0.ɵɵlistener("keyup.enter",function($event){return ctx.applyNewValue($event.target.value)})("blur",function($event){return ctx.applyNewValueByLoosingFocus($event.target.value)})("keyup.esc",function(){return ctx.cancelEditing()})},inputs:{nodeValue:["nodeEditable","nodeValue"]},outputs:{valueChanged:"valueChanged"}}),NodeEditableDirective}();exports.NodeEditableDirective=NodeEditableDirective,function(){("undefined"==typeof ngDevMode||ngDevMode)&&i0.ɵsetClassMetadata(NodeEditableDirective,[{type:core_1.Directive,args:[{selector:"[nodeEditable]"}]}],function(){return[{type:i0.Renderer2,decorators:[{type:core_1.Inject,args:[core_1.Renderer2]}]},{type:i0.ElementRef,decorators:[{type:core_1.Inject,args:[core_1.ElementRef]}]}]},{nodeValue:[{type:core_1.Input,args:["nodeEditable"]}],valueChanged:[{type:core_1.Output}],applyNewValue:[{type:core_1.HostListener,args:["keyup.enter",["$event.target.value"]]}],applyNewValueByLoosingFocus:[{type:core_1.HostListener,args:["blur",["$event.target.value"]]}],cancelEditing:[{type:core_1.HostListener,args:["keyup.esc"]}]})}()}),$__System.registerDynamic("14",[],!0,function($__require,exports,module){"use strict";function isLeftButtonClicked(e){return e.button===MouseButtons.Left}function isRightButtonClicked(e){return e.button===MouseButtons.Right}function isEscapePressed(e){return e.keyCode===Keys.Escape}this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.isEscapePressed=exports.isRightButtonClicked=exports.isLeftButtonClicked=exports.MouseButtons=exports.Keys=void 0;var Keys;!function(Keys){Keys[Keys.Escape=27]="Escape"}(Keys=exports.Keys||(exports.Keys={}));var MouseButtons;!function(MouseButtons){MouseButtons[MouseButtons.Left=0]="Left",MouseButtons[MouseButtons.Right=2]="Right"}(MouseButtons=exports.MouseButtons||(exports.MouseButtons={})),exports.isLeftButtonClicked=isLeftButtonClicked,exports.isRightButtonClicked=isRightButtonClicked,exports.isEscapePressed=isEscapePressed}),$__System.registerDynamic("21",["d","16","13","14","1d"],!0,function($__require,exports,module){"use strict";function NodeMenuComponent_li_4_Template(rf,ctx){if(1&rf){var _r5=i0.ɵɵgetCurrentView();i0.ɵɵelementStart(0,"li",5),i0.ɵɵlistener("click",function($event){i0.ɵɵrestoreView(_r5);var menuItem_r3=ctx.$implicit;return i0.ɵɵnextContext().onMenuItemSelected($event,menuItem_r3)}),i0.ɵɵelement(1,"div"),i0.ɵɵelementStart(2,"span",6),i0.ɵɵtext(3),i0.ɵɵelementEnd(),i0.ɵɵelementEnd()}if(2&rf){var menuItem_r3=ctx.$implicit;i0.ɵɵadvance(1),i0.ɵɵclassMapInterpolate1("node-menu-item-icon ",menuItem_r3.cssClass,""),i0.ɵɵadvance(2),i0.ɵɵtextInterpolate(menuItem_r3.name)}}this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.NodeMenuComponent=void 0;var core_1=$__require("d"),node_menu_service_1=$__require("16"),menu_events_1=$__require("13"),event_utils_1=$__require("14"),i0=$__require("d"),i1=$__require("16"),i2=$__require("1d"),_c0=["menuContent"],_c1=["menuContainer"],_c2=function(a0){return{visibility:a0}},NodeMenuComponent=function(){function NodeMenuComponent(renderer,nodeMenuService){this.renderer=renderer,this.nodeMenuService=nodeMenuService,this.visibility="hidden",this.menuItemSelected=new core_1.EventEmitter,this.availableMenuItems=[{name:"New tag",action:menu_events_1.NodeMenuItemAction.NewTag,cssClass:"new-tag"},{name:"New folder",action:menu_events_1.NodeMenuItemAction.NewFolder,cssClass:"new-folder"},{name:"Rename",action:menu_events_1.NodeMenuItemAction.Rename,cssClass:"rename"},{name:"Remove",action:menu_events_1.NodeMenuItemAction.Remove,cssClass:"remove"}],this.disposersForGlobalListeners=[]}return NodeMenuComponent.prototype.ngOnInit=function(){this.availableMenuItems=this.menuItems||this.availableMenuItems,this.disposersForGlobalListeners.push(this.renderer.listen("document","keyup",this.closeMenu.bind(this))),this.disposersForGlobalListeners.push(this.renderer.listen("document","mousedown",this.closeMenu.bind(this)))},NodeMenuComponent.prototype.ngAfterViewInit=function(){this.positionMenu()},NodeMenuComponent.prototype.ngOnDestroy=function(){this.disposersForGlobalListeners.forEach(function(dispose){return dispose()})},NodeMenuComponent.prototype.onMenuItemSelected=function(e,selectedMenuItem){event_utils_1.isLeftButtonClicked(e)&&(this.menuItemSelected.emit({nodeMenuItemAction:selectedMenuItem.action,nodeMenuItemSelected:selectedMenuItem.name}),this.nodeMenuService.fireMenuEvent(e.target,menu_events_1.NodeMenuAction.Close))},NodeMenuComponent.prototype.positionMenu=function(){var _this=this,menuContentElem=this.menuContent.nativeElement,elemBCR=menuContentElem.getBoundingClientRect(),elemTop=elemBCR.top,elemHeight=elemBCR.height,defaultDisplay=menuContentElem.style.display;menuContentElem.style.display="none";var scrollContainer=this.getScrollParent(menuContentElem);menuContentElem.style.display=defaultDisplay;var viewportBottom;if(scrollContainer){var containerBCR=scrollContainer.getBoundingClientRect(),containerBottom=containerBCR.top+containerBCR.height;viewportBottom=containerBottom>window.innerHeight?window.innerHeight:containerBottom}else viewportBottom=window.innerHeight;var style=elemTop+elemHeight>viewportBottom?"bottom: 0":"top: 0";if(menuContentElem.setAttribute("style",style),this.cursorCoordinates&&this.cursorCoordinates.x&&this.cursorCoordinates.y){this.menuContainer.nativeElement.setAttribute("style","position: fixed; top: "+this.cursorCoordinates.y+"px; left: "+this.cursorCoordinates.x+"px")}setTimeout(function(){return _this.visibility="visible"})},NodeMenuComponent.prototype.getScrollParent=function(node){return null==node?null:node.clientHeight&&node.clientHeight<node.scrollHeight?node:this.getScrollParent(node.parentElement)},NodeMenuComponent.prototype.closeMenu=function(e){var mouseClicked=e instanceof MouseEvent,containingTarget=this.menuContent.nativeElement!==e.target&&this.menuContent.nativeElement.contains(e.target);(mouseClicked&&!containingTarget||event_utils_1.isEscapePressed(e))&&this.nodeMenuService.fireMenuEvent(e.target,menu_events_1.NodeMenuAction.Close)},NodeMenuComponent.ɵfac=function(t){return new(t||NodeMenuComponent)(i0.ɵɵdirectiveInject(core_1.Renderer2),i0.ɵɵdirectiveInject(node_menu_service_1.NodeMenuService))},NodeMenuComponent.ɵcmp=i0.ɵɵdefineComponent({type:NodeMenuComponent,selectors:[["node-menu"]],viewQuery:function(rf,ctx){if(1&rf&&(i0.ɵɵviewQuery(_c0,1),i0.ɵɵviewQuery(_c1,1)),2&rf){var _t=void 0;i0.ɵɵqueryRefresh(_t=i0.ɵɵloadQuery())&&(ctx.menuContent=_t.first),i0.ɵɵqueryRefresh(_t=i0.ɵɵloadQuery())&&(ctx.menuContainer=_t.first)}},inputs:{menuItems:"menuItems",cursorCoordinates:"cursorCoordinates"},outputs:{menuItemSelected:"menuItemSelected"},decls:5,vars:4,consts:[[1,"node-menu",3,"ngStyle"],["menuContainer",""],[1,"node-menu-content"],["menuContent",""],["class","node-menu-item",3,"click",4,"ngFor","ngForOf"],[1,"node-menu-item",3,"click"],[1,"node-menu-item-value"]],template:function(rf,ctx){1&rf&&(i0.ɵɵelementStart(0,"div",0,1),i0.ɵɵelementStart(2,"ul",2,3),i0.ɵɵtemplate(4,NodeMenuComponent_li_4_Template,4,4,"li",4),i0.ɵɵelementEnd(),i0.ɵɵelementEnd()),2&rf&&(i0.ɵɵproperty("ngStyle",i0.ɵɵpureFunction1(2,_c2,ctx.visibility)),i0.ɵɵadvance(4),i0.ɵɵproperty("ngForOf",ctx.availableMenuItems))},directives:[i2.NgStyle,i2.NgForOf],encapsulation:2}),NodeMenuComponent}();exports.NodeMenuComponent=NodeMenuComponent,function(){("undefined"==typeof ngDevMode||ngDevMode)&&i0.ɵsetClassMetadata(NodeMenuComponent,[{type:core_1.Component,args:[{selector:"node-menu",template:'\n    <div class="node-menu" [ngStyle]="{\'visibility\': visibility}" #menuContainer>\n      <ul class="node-menu-content" #menuContent>\n        <li class="node-menu-item" *ngFor="let menuItem of availableMenuItems"\n          (click)="onMenuItemSelected($event, menuItem)">\n          <div class="node-menu-item-icon {{menuItem.cssClass}}"></div>\n          <span class="node-menu-item-value">{{menuItem.name}}</span>\n        </li>\n      </ul>\n    </div>\n  '}]}],function(){return[{type:i0.Renderer2,decorators:[{type:core_1.Inject,args:[core_1.Renderer2]}]},{type:i1.NodeMenuService,decorators:[{type:core_1.Inject,args:[node_menu_service_1.NodeMenuService]}]}]},{menuItemSelected:[{type:core_1.Output}],menuItems:[{type:core_1.Input}],cursorCoordinates:[{type:core_1.Input}],menuContent:[{type:core_1.ViewChild,args:["menuContent"]}],menuContainer:[{type:core_1.ViewChild,args:["menuContainer"]}]})}()}),$__System.registerDynamic("13",[],!0,function($__require,exports,module){"use strict";this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.NodeMenuAction=exports.NodeMenuItemAction=void 0;!function(NodeMenuItemAction){NodeMenuItemAction[NodeMenuItemAction.NewFolder=0]="NewFolder",NodeMenuItemAction[NodeMenuItemAction.NewTag=1]="NewTag",NodeMenuItemAction[NodeMenuItemAction.Rename=2]="Rename",NodeMenuItemAction[NodeMenuItemAction.Remove=3]="Remove",NodeMenuItemAction[NodeMenuItemAction.Custom=4]="Custom"}(exports.NodeMenuItemAction||(exports.NodeMenuItemAction={}));!function(NodeMenuAction){NodeMenuAction[NodeMenuAction.Close=0]="Close"}(exports.NodeMenuAction||(exports.NodeMenuAction={}))}),$__System.registerDynamic("16",["d","1b","1c","13"],!0,function($__require,exports,module){"use strict";this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.NodeMenuService=void 0;var core_1=$__require("d"),rxjs_1=$__require("1b"),operators_1=$__require("1c"),menu_events_1=$__require("13"),i0=$__require("d"),NodeMenuService=function(){function NodeMenuService(){this.nodeMenuEvents$=new rxjs_1.Subject}return NodeMenuService.prototype.fireMenuEvent=function(sender,action){var nodeMenuEvent={sender:sender,action:action};this.nodeMenuEvents$.next(nodeMenuEvent)},NodeMenuService.prototype.hideMenuStream=function(treeElementRef){return this.nodeMenuEvents$.pipe(operators_1.filter(function(e){return treeElementRef.nativeElement!==e.sender}),operators_1.filter(function(e){return e.action===menu_events_1.NodeMenuAction.Close}))},NodeMenuService.prototype.hideMenuForAllNodesExcept=function(treeElementRef){this.nodeMenuEvents$.next({sender:treeElementRef.nativeElement,action:menu_events_1.NodeMenuAction.Close})},NodeMenuService.ɵfac=function(t){return new(t||NodeMenuService)},NodeMenuService.ɵprov=i0.ɵɵdefineInjectable({token:NodeMenuService,factory:NodeMenuService.ɵfac}),NodeMenuService}();exports.NodeMenuService=NodeMenuService,function(){("undefined"==typeof ngDevMode||ngDevMode)&&i0.ɵsetClassMetadata(NodeMenuService,[{type:core_1.Injectable}],null,null)}()}),$__System.registerDynamic("2d",[],!0,function($__require,exports,module){"use strict";var __extends=(this||self,exports&&exports.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}());Object.defineProperty(exports,"__esModule",{value:!0}),exports.NodeRenameInputChangeEvent=exports.NodeRenameKeydownEvent=exports.NodeIndeterminateEvent=exports.NodeUncheckedEvent=exports.NodeCheckedEvent=exports.LoadNextLevelEvent=exports.MenuItemSelectedEvent=exports.NodeCollapsedEvent=exports.NodeExpandedEvent=exports.NodeRenamedEvent=exports.NodeCreatedEvent=exports.NodeRemovedEvent=exports.NodeMovedEvent=exports.NodeDestructiveEvent=exports.NodeUnselectedEvent=exports.NodeSelectedEvent=exports.NodeDoubleClickedEvent=exports.NodeEvent=void 0;var NodeEvent=function(){function NodeEvent(node){this.node=node}return NodeEvent}();exports.NodeEvent=NodeEvent;var NodeDoubleClickedEvent=function(_super){function NodeDoubleClickedEvent(node,e){var _this=_super.call(this,node)||this;return _this.e=e,_this}return __extends(NodeDoubleClickedEvent,_super),NodeDoubleClickedEvent}(NodeEvent);exports.NodeDoubleClickedEvent=NodeDoubleClickedEvent;var NodeSelectedEvent=function(_super){function NodeSelectedEvent(node){return _super.call(this,node)||this}return __extends(NodeSelectedEvent,_super),NodeSelectedEvent}(NodeEvent);exports.NodeSelectedEvent=NodeSelectedEvent;var NodeUnselectedEvent=function(_super){function NodeUnselectedEvent(node){return _super.call(this,node)||this}return __extends(NodeUnselectedEvent,_super),NodeUnselectedEvent}(NodeEvent);exports.NodeUnselectedEvent=NodeUnselectedEvent;var NodeDestructiveEvent=function(_super){function NodeDestructiveEvent(node){return _super.call(this,node)||this}return __extends(NodeDestructiveEvent,_super),NodeDestructiveEvent}(NodeEvent);exports.NodeDestructiveEvent=NodeDestructiveEvent;var NodeMovedEvent=function(_super){function NodeMovedEvent(node,previousParent,previousPosition){var _this=_super.call(this,node)||this;return _this.previousParent=previousParent,_this.previousPosition=previousPosition,_this}return __extends(NodeMovedEvent,_super),NodeMovedEvent}(NodeDestructiveEvent);exports.NodeMovedEvent=NodeMovedEvent;var NodeRemovedEvent=function(_super){function NodeRemovedEvent(node,lastIndex){var _this=_super.call(this,node)||this;return _this.lastIndex=lastIndex,_this}return __extends(NodeRemovedEvent,_super),NodeRemovedEvent}(NodeDestructiveEvent);exports.NodeRemovedEvent=NodeRemovedEvent;var NodeCreatedEvent=function(_super){function NodeCreatedEvent(node){return _super.call(this,node)||this}return __extends(NodeCreatedEvent,_super),NodeCreatedEvent}(NodeDestructiveEvent);exports.NodeCreatedEvent=NodeCreatedEvent;var NodeRenamedEvent=function(_super){function NodeRenamedEvent(node,oldValue,newValue){var _this=_super.call(this,node)||this;return _this.oldValue=oldValue,_this.newValue=newValue,_this}return __extends(NodeRenamedEvent,_super),NodeRenamedEvent}(NodeDestructiveEvent);exports.NodeRenamedEvent=NodeRenamedEvent;var NodeExpandedEvent=function(_super){function NodeExpandedEvent(node){return _super.call(this,node)||this}return __extends(NodeExpandedEvent,_super),NodeExpandedEvent}(NodeEvent);exports.NodeExpandedEvent=NodeExpandedEvent;var NodeCollapsedEvent=function(_super){function NodeCollapsedEvent(node){return _super.call(this,node)||this}return __extends(NodeCollapsedEvent,_super),NodeCollapsedEvent}(NodeEvent);exports.NodeCollapsedEvent=NodeCollapsedEvent;var MenuItemSelectedEvent=function(_super){function MenuItemSelectedEvent(node,selectedItem){var _this=_super.call(this,node)||this;return _this.selectedItem=selectedItem,_this}return __extends(MenuItemSelectedEvent,_super),MenuItemSelectedEvent}(NodeEvent);exports.MenuItemSelectedEvent=MenuItemSelectedEvent;var LoadNextLevelEvent=function(_super){function LoadNextLevelEvent(node){return _super.call(this,node)||this}return __extends(LoadNextLevelEvent,_super),LoadNextLevelEvent}(NodeEvent);exports.LoadNextLevelEvent=LoadNextLevelEvent;var NodeCheckedEvent=function(_super){function NodeCheckedEvent(node){return _super.call(this,node)||this}return __extends(NodeCheckedEvent,_super),NodeCheckedEvent}(NodeEvent);exports.NodeCheckedEvent=NodeCheckedEvent;var NodeUncheckedEvent=function(_super){function NodeUncheckedEvent(node){return _super.call(this,node)||this}return __extends(NodeUncheckedEvent,_super),NodeUncheckedEvent}(NodeEvent);exports.NodeUncheckedEvent=NodeUncheckedEvent;var NodeIndeterminateEvent=function(_super){function NodeIndeterminateEvent(node,indeterminate){var _this=_super.call(this,node)||this;return _this.indeterminate=indeterminate,_this}return __extends(NodeIndeterminateEvent,_super),NodeIndeterminateEvent}(NodeEvent);exports.NodeIndeterminateEvent=NodeIndeterminateEvent;var NodeRenameKeydownEvent=function(_super){function NodeRenameKeydownEvent(node,domEvent){var _this=_super.call(this,node)||this;return _this.domEvent=domEvent,_this}return __extends(NodeRenameKeydownEvent,_super),NodeRenameKeydownEvent}(NodeEvent);exports.NodeRenameKeydownEvent=NodeRenameKeydownEvent;var NodeRenameInputChangeEvent=function(_super){function NodeRenameInputChangeEvent(node,domEvent){var _this=_super.call(this,node)||this;return _this.domEvent=domEvent,_this}return __extends(NodeRenameInputChangeEvent,_super),NodeRenameInputChangeEvent}(NodeEvent);exports.NodeRenameInputChangeEvent=NodeRenameInputChangeEvent}),$__System.registerDynamic("18",[],!0,function($__require,exports,module){"use strict";this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.NodeDragStartEvent=exports.NodeDraggableEvent=exports.DropPosition=void 0;!function(DropPosition){DropPosition[DropPosition.Above=0]="Above",DropPosition[DropPosition.Into=1]="Into",DropPosition[DropPosition.Below=2]="Below"}(exports.DropPosition||(exports.DropPosition={}));var NodeDraggableEvent=function(){function NodeDraggableEvent(captured,target,position){this.captured=captured,this.target=target,this.position=position}return NodeDraggableEvent}();exports.NodeDraggableEvent=NodeDraggableEvent;var NodeDragStartEvent=function(){function NodeDragStartEvent(captured,target){this.captured=captured,this.target=target}return NodeDragStartEvent}();exports.NodeDragStartEvent=NodeDragStartEvent}),$__System.registerDynamic("19",["d","1b","18"],!0,function($__require,exports,module){"use strict";this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.NodeDraggableService=void 0;var core_1=$__require("d"),rxjs_1=$__require("1b"),draggable_events_1=$__require("18"),i0=$__require("d"),NodeDraggableService=function(){function NodeDraggableService(){this.draggableNodeEvents$=new rxjs_1.Subject,this.nodeDragStartEvents$=new rxjs_1.Subject,this.checkedNodes=[]}return NodeDraggableService.prototype.fireNodeDragged=function(captured,target,position){0===captured.length||captured.every(function(cn){return!cn.tree||cn.tree.isStatic()})||this.draggableNodeEvents$.next(new draggable_events_1.NodeDraggableEvent(captured,target,position))},NodeDraggableService.prototype.fireNodeDragStart=function(captured,target){0===captured.length||captured.every(function(cn){return!cn.tree||cn.tree.isStatic()})||this.nodeDragStartEvents$.next(new draggable_events_1.NodeDragStartEvent(captured,target))},NodeDraggableService.prototype.addCheckedNode=function(node){this.checkedNodes.push(node)},NodeDraggableService.prototype.setDraggedNode=function(node){this.draggedNode=node},NodeDraggableService.prototype.removeCheckedNode=function(node){var i=this.checkedNodes.indexOf(node);i>-1&&this.checkedNodes.splice(i,1)},NodeDraggableService.prototype.removeCheckedNodeById=function(id){var i=this.checkedNodes.findIndex(function(cn){return cn.tree.id===id});i>-1&&this.checkedNodes.splice(i,1)},NodeDraggableService.prototype.getCheckedNodes=function(){return this.checkedNodes},NodeDraggableService.prototype.getDraggedNode=function(){return this.draggedNode},NodeDraggableService.prototype.releaseCheckedNodes=function(){this.checkedNodes=[]},NodeDraggableService.prototype.releaseDraggedNode=function(){this.draggedNode=null},NodeDraggableService.ɵfac=function(t){return new(t||NodeDraggableService)},NodeDraggableService.ɵprov=i0.ɵɵdefineInjectable({token:NodeDraggableService,factory:NodeDraggableService.ɵfac}),NodeDraggableService}();exports.NodeDraggableService=NodeDraggableService,function(){("undefined"==typeof ngDevMode||ngDevMode)&&i0.ɵsetClassMetadata(NodeDraggableService,[{type:core_1.Injectable}],null,null)}()}),$__System.registerDynamic("15",[],!0,function($__require,exports,module){"use strict";function isEmpty(value){return"string"==typeof value?!/\S/.test(value):Array.isArray(value)?0===value.length:isNil(value)}function trim(value){return isNil(value)?"":value.trim()}function has(value,prop){return value&&"object"==typeof value&&value.hasOwnProperty(prop)}function isFunction(value){return"function"==typeof value}function get(value,path,defaultValue){for(var result=value,_i=0,_a=path.split(".");_i<_a.length;_i++){var prop=_a[_i];if(!result||!Reflect.has(result,prop))return defaultValue;result=result[prop]}return isNil(result)||result===value?defaultValue:result}function omit(value,propsToSkip){if(!value)return value;var normalizedPropsToSkip="string"==typeof propsToSkip?[propsToSkip]:propsToSkip;return Object.keys(value).reduce(function(result,prop){var _a;return includes(normalizedPropsToSkip,prop)?result:Object.assign(result,(_a={},_a[prop]=value[prop],_a))},{})}function size(value){return isEmpty(value)?0:value.length}function once(fn){var result;return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return fn&&(result=fn.apply(null,args),fn=null),result}}function defaultsDeep(target){for(var sources=[],_i=1;_i<arguments.length;_i++)sources[_i-1]=arguments[_i];return[target].concat(sources).reduce(function(result,source){return source?(Object.keys(source).forEach(function(prop){return isNil(result[prop])?void(result[prop]=source[prop]):"object"!=typeof result[prop]||Array.isArray(result[prop])?void 0:void(result[prop]=defaultsDeep(result[prop],source[prop]))}),result):result},{})}function includes(target,value){return!isNil(target)&&target.indexOf(value)>-1}function isNil(value){return void 0===value||null===value}this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNil=exports.includes=exports.defaultsDeep=exports.once=exports.size=exports.omit=exports.get=exports.isFunction=exports.has=exports.trim=exports.isEmpty=void 0,exports.isEmpty=isEmpty,exports.trim=trim,exports.has=has,exports.isFunction=isFunction,exports.get=get,exports.omit=omit,exports.size=size,exports.once=once,exports.defaultsDeep=defaultsDeep,exports.includes=includes,exports.isNil=isNil}),$__System.registerDynamic("e",["2d","d","19","15","1b","1c"],!0,function($__require,exports,module){"use strict";this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.TreeService=void 0;var tree_events_1=$__require("2d"),core_1=$__require("d"),node_draggable_service_1=$__require("19"),fn_utils_1=$__require("15"),rxjs_1=$__require("1b"),operators_1=$__require("1c"),i0=$__require("d"),i1=$__require("19"),TreeService=function(){function TreeService(nodeDraggableService){var _this=this;this.nodeDraggableService=nodeDraggableService,this.nodeMoved$=new rxjs_1.Subject,this.nodeMoveStarted$=new rxjs_1.Subject,this.nodeRemoved$=new rxjs_1.Subject,this.nodeRenamed$=new rxjs_1.Subject,this.nodeCreated$=new rxjs_1.Subject,this.nodeDoubleClicked$=new rxjs_1.Subject,this.nodeSelected$=new rxjs_1.Subject,this.nodeUnselected$=new rxjs_1.Subject,this.nodeExpanded$=new rxjs_1.Subject,this.nodeCollapsed$=new rxjs_1.Subject,this.menuItemSelected$=new rxjs_1.Subject,this.loadNextLevel$=new rxjs_1.Subject,this.nodeChecked$=new rxjs_1.Subject,this.nodeUnchecked$=new rxjs_1.Subject,this.nodeIndeterminate$=new rxjs_1.Subject,this.nodeRenameKeydown$=new rxjs_1.Subject,this.nodeRenameInputChange$=new rxjs_1.Subject,this.controllers=new Map,this.nodeRemoved$.subscribe(function(e){return e.node.removeItselfFromParent()}),this.nodeDraggableService.nodeDragStartEvents$.subscribe(function(e){_this.nodeMoveStarted$.next(e)})}return TreeService.prototype.unselectStream=function(tree){return this.nodeSelected$.pipe(operators_1.filter(function(e){return tree!==e.node}))},TreeService.prototype.fireNodeRenameKeydownEvent=function(tree,e){this.nodeRenameKeydown$.next(new tree_events_1.NodeRenameKeydownEvent(tree,e))},TreeService.prototype.fireNodeRenameInputChanged=function(tree,e){this.nodeRenameInputChange$.next(new tree_events_1.NodeRenameInputChangeEvent(tree,e))},TreeService.prototype.fireNodeRemoved=function(tree){this.nodeRemoved$.next(new tree_events_1.NodeRemovedEvent(tree,tree.positionInParent))},TreeService.prototype.fireNodeCreated=function(tree){this.nodeCreated$.next(new tree_events_1.NodeCreatedEvent(tree))},TreeService.prototype.fireNodeDoubleClicked=function(tree,e){this.nodeDoubleClicked$.next(new tree_events_1.NodeDoubleClickedEvent(tree,e))},TreeService.prototype.fireNodeSelected=function(tree){this.nodeSelected$.next(new tree_events_1.NodeSelectedEvent(tree))},TreeService.prototype.fireNodeUnselected=function(tree){this.nodeUnselected$.next(new tree_events_1.NodeUnselectedEvent(tree))},TreeService.prototype.fireNodeRenamed=function(oldValue,tree){this.nodeRenamed$.next(new tree_events_1.NodeRenamedEvent(tree,oldValue,tree.value))},TreeService.prototype.fireNodeMoved=function(tree,parent,previousPosition){this.nodeMoved$.next(new tree_events_1.NodeMovedEvent(tree,parent,previousPosition))},TreeService.prototype.fireMenuItemSelected=function(tree,selectedItem){this.menuItemSelected$.next(new tree_events_1.MenuItemSelectedEvent(tree,selectedItem))},TreeService.prototype.fireNodeSwitchFoldingType=function(tree){tree.isNodeExpanded()?(this.fireNodeExpanded(tree),this.shouldFireLoadNextLevel(tree)&&this.fireLoadNextLevel(tree)):tree.isNodeCollapsed()&&this.fireNodeCollapsed(tree)},TreeService.prototype.fireNodeExpanded=function(tree){this.nodeExpanded$.next(new tree_events_1.NodeExpandedEvent(tree))},TreeService.prototype.fireNodeCollapsed=function(tree){this.nodeCollapsed$.next(new tree_events_1.NodeCollapsedEvent(tree))},TreeService.prototype.fireLoadNextLevel=function(tree){this.loadNextLevel$.next(new tree_events_1.LoadNextLevelEvent(tree))},TreeService.prototype.fireNodeChecked=function(tree){this.nodeChecked$.next(new tree_events_1.NodeCheckedEvent(tree))},TreeService.prototype.fireNodeUnchecked=function(tree){this.nodeUnchecked$.next(new tree_events_1.NodeUncheckedEvent(tree))},TreeService.prototype.fireNodeIndeterminate=function(tree,indeterminate){this.nodeIndeterminate$.next(new tree_events_1.NodeIndeterminateEvent(tree,indeterminate))},TreeService.prototype.draggedStream=function(tree,element){return this.nodeDraggableService.draggableNodeEvents$.pipe(operators_1.filter(function(e){return e.target===element}),operators_1.filter(function(e){return!e.captured.some(function(cn){return cn.tree.hasChild(tree)})}))},TreeService.prototype.setController=function(id,controller){this.controllers.set(id,controller)},TreeService.prototype.deleteController=function(id){this.controllers.has(id)&&this.controllers.delete(id)},TreeService.prototype.getController=function(id){return this.controllers.has(id)?this.controllers.get(id):null},TreeService.prototype.hasController=function(id){return this.controllers.has(id)},TreeService.prototype.shouldFireLoadNextLevel=function(tree){var shouldLoadNextLevel=tree.node.emitLoadNextLevel&&!tree.node.loadChildren&&!tree.childrenAreBeingLoaded()&&fn_utils_1.isEmpty(tree.children);return shouldLoadNextLevel&&tree.loadingChildrenRequested(),shouldLoadNextLevel},TreeService.ɵfac=function(t){return new(t||TreeService)(i0.ɵɵinject(node_draggable_service_1.NodeDraggableService))},TreeService.ɵprov=i0.ɵɵdefineInjectable({token:TreeService,factory:TreeService.ɵfac}),TreeService}();exports.TreeService=TreeService,function(){("undefined"==typeof ngDevMode||ngDevMode)&&i0.ɵsetClassMetadata(TreeService,[{type:core_1.Injectable}],function(){return[{type:i1.NodeDraggableService,decorators:[{type:core_1.Inject,args:[node_draggable_service_1.NodeDraggableService]}]}]},null)}()}),$__System.registerDynamic("22",["d","2e"],!0,function($__require,exports,module){"use strict";this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.SafeHtmlPipe=void 0;var core_1=$__require("d"),i0=($__require("2e"),$__require("d")),i1=$__require("2e"),SafeHtmlPipe=function(){function SafeHtmlPipe(sanitizer){this.sanitizer=sanitizer}return SafeHtmlPipe.prototype.transform=function(value){return this.sanitizer.bypassSecurityTrustHtml(value)},SafeHtmlPipe.ɵfac=function(t){return new(t||SafeHtmlPipe)(i0.ɵɵdirectiveInject(i1.DomSanitizer))},SafeHtmlPipe.ɵpipe=i0.ɵɵdefinePipe({name:"safeHtml",type:SafeHtmlPipe,pure:!0}),SafeHtmlPipe}();exports.SafeHtmlPipe=SafeHtmlPipe,function(){("undefined"==typeof ngDevMode||ngDevMode)&&i0.ɵsetClassMetadata(SafeHtmlPipe,[{type:core_1.Pipe,args:[{name:"safeHtml"}]}],function(){return[{type:i1.DomSanitizer}]},null)}()}),$__System.registerDynamic("2f",["b","d","c","11","1d","1e","19","20","21","16","e","22","30","1f"],!0,function($__require,exports,module){"use strict";this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.TreeModule=void 0,$__require("b");var core_1=$__require("d"),tree_component_1=$__require("c"),tree_internal_component_1=$__require("11"),common_1=$__require("1d"),node_draggable_directive_1=$__require("1e"),node_draggable_service_1=$__require("19"),node_editable_directive_1=$__require("20"),node_menu_component_1=$__require("21"),node_menu_service_1=$__require("16"),tree_service_1=$__require("e"),safe_html_pipe_1=$__require("22"),animations_1=$__require("30"),tooltip_1=$__require("1f"),i0=$__require("d"),TreeModule=function(){function TreeModule(){}return TreeModule.ɵfac=function(t){return new(t||TreeModule)},TreeModule.ɵmod=i0.ɵɵdefineNgModule({type:TreeModule}),TreeModule.ɵinj=i0.ɵɵdefineInjector({providers:[node_draggable_service_1.NodeDraggableService,node_menu_service_1.NodeMenuService,tree_service_1.TreeService],imports:[[common_1.CommonModule,animations_1.BrowserAnimationsModule,tooltip_1.MatTooltipModule]]}),TreeModule}();exports.TreeModule=TreeModule,function(){("undefined"==typeof ngJitMode||ngJitMode)&&i0.ɵɵsetNgModuleScope(TreeModule,{declarations:[node_draggable_directive_1.NodeDraggableDirective,tree_component_1.TreeComponent,node_editable_directive_1.NodeEditableDirective,node_menu_component_1.NodeMenuComponent,tree_internal_component_1.TreeInternalComponent,safe_html_pipe_1.SafeHtmlPipe],imports:[common_1.CommonModule,animations_1.BrowserAnimationsModule,tooltip_1.MatTooltipModule],exports:[tree_component_1.TreeComponent]})}(),function(){("undefined"==typeof ngDevMode||ngDevMode)&&i0.ɵsetClassMetadata(TreeModule,[{type:core_1.NgModule,args:[{imports:[common_1.CommonModule,animations_1.BrowserAnimationsModule,tooltip_1.MatTooltipModule],declarations:[node_draggable_directive_1.NodeDraggableDirective,tree_component_1.TreeComponent,node_editable_directive_1.NodeEditableDirective,node_menu_component_1.NodeMenuComponent,tree_internal_component_1.TreeInternalComponent,safe_html_pipe_1.SafeHtmlPipe],exports:[tree_component_1.TreeComponent],providers:[node_draggable_service_1.NodeDraggableService,node_menu_service_1.NodeMenuService,tree_service_1.TreeService]}]}],null,null)}()}),$__System.registerDynamic("a",["f","10","13","2d","18","c","12","2f"],!0,function($__require,exports,module){"use strict";this||self;Object.defineProperty(exports,"__esModule",{value:!0}),exports.TreeController=exports.MenuItemSelectedEvent=exports.NodeMenuItemAction=exports.TreeModule=exports.TreeComponent=exports.NodeDraggableEvent=exports.NodeDragStartEvent=exports.NodeUnselectedEvent=exports.NodeRenameInputChangeEvent=exports.NodeRenameKeydownEvent=exports.NodeIndeterminateEvent=exports.NodeCheckedEvent=exports.NodeUncheckedEvent=exports.NodeDestructiveEvent=exports.NodeCollapsedEvent=exports.NodeExpandedEvent=exports.NodeSelectedEvent=exports.NodeMovedEvent=exports.NodeRenamedEvent=exports.NodeRemovedEvent=exports.NodeDoubleClickedEvent=exports.NodeCreatedEvent=exports.NodeEvent=exports.FoldingType=exports.Ng2TreeSettings=exports.TreeModelSettings=exports.Tree=void 0;var tree_types_1=$__require("f");Object.defineProperty(exports,"TreeModelSettings",{enumerable:!0,get:function(){return tree_types_1.TreeModelSettings}}),Object.defineProperty(exports,"Ng2TreeSettings",{enumerable:!0,get:function(){return tree_types_1.Ng2TreeSettings}}),Object.defineProperty(exports,"FoldingType",{enumerable:!0,get:function(){return tree_types_1.FoldingType}});var tree_1=$__require("10");Object.defineProperty(exports,"Tree",{enumerable:!0,get:function(){return tree_1.Tree}});var menu_events_1=$__require("13");Object.defineProperty(exports,"NodeMenuItemAction",{enumerable:!0,get:function(){return menu_events_1.NodeMenuItemAction}});var tree_events_1=$__require("2d");Object.defineProperty(exports,"NodeEvent",{enumerable:!0,get:function(){return tree_events_1.NodeEvent}}),Object.defineProperty(exports,"NodeCreatedEvent",{enumerable:!0,get:function(){return tree_events_1.NodeCreatedEvent}}),Object.defineProperty(exports,"NodeDoubleClickedEvent",{enumerable:!0,get:function(){return tree_events_1.NodeDoubleClickedEvent}}),Object.defineProperty(exports,"NodeRemovedEvent",{enumerable:!0,get:function(){return tree_events_1.NodeRemovedEvent}}),Object.defineProperty(exports,"NodeRenamedEvent",{enumerable:!0,get:function(){return tree_events_1.NodeRenamedEvent}}),Object.defineProperty(exports,"NodeMovedEvent",{enumerable:!0,get:function(){return tree_events_1.NodeMovedEvent}}),Object.defineProperty(exports,"NodeSelectedEvent",{enumerable:!0,get:function(){return tree_events_1.NodeSelectedEvent}}),Object.defineProperty(exports,"NodeExpandedEvent",{enumerable:!0,get:function(){return tree_events_1.NodeExpandedEvent}}),Object.defineProperty(exports,"NodeCollapsedEvent",{enumerable:!0,get:function(){return tree_events_1.NodeCollapsedEvent}}),Object.defineProperty(exports,"MenuItemSelectedEvent",{enumerable:!0,get:function(){return tree_events_1.MenuItemSelectedEvent}}),Object.defineProperty(exports,"NodeDestructiveEvent",{enumerable:!0,get:function(){return tree_events_1.NodeDestructiveEvent}}),Object.defineProperty(exports,"NodeUncheckedEvent",{enumerable:!0,get:function(){return tree_events_1.NodeUncheckedEvent}}),Object.defineProperty(exports,"NodeCheckedEvent",{enumerable:!0,get:function(){return tree_events_1.NodeCheckedEvent}}),Object.defineProperty(exports,"NodeIndeterminateEvent",{enumerable:!0,get:function(){return tree_events_1.NodeIndeterminateEvent}}),Object.defineProperty(exports,"NodeUnselectedEvent",{enumerable:!0,get:function(){return tree_events_1.NodeUnselectedEvent}}),Object.defineProperty(exports,"NodeRenameKeydownEvent",{enumerable:!0,get:function(){return tree_events_1.NodeRenameKeydownEvent}}),Object.defineProperty(exports,"NodeRenameInputChangeEvent",{enumerable:!0,get:function(){return tree_events_1.NodeRenameInputChangeEvent}});var draggable_events_1=$__require("18");Object.defineProperty(exports,"NodeDragStartEvent",{enumerable:!0,get:function(){return draggable_events_1.NodeDragStartEvent}}),Object.defineProperty(exports,"NodeDraggableEvent",{enumerable:!0,get:function(){return draggable_events_1.NodeDraggableEvent}});var tree_component_1=$__require("c");Object.defineProperty(exports,"TreeComponent",{enumerable:!0,get:function(){return tree_component_1.TreeComponent}});var tree_controller_1=$__require("12");Object.defineProperty(exports,"TreeController",{enumerable:!0,get:function(){return tree_controller_1.TreeController}});var tree_module_1=$__require("2f");Object.defineProperty(exports,"TreeModule",{enumerable:!0,get:function(){return tree_module_1.TreeModule}})})})(function(factory){if("function"==typeof define&&define.amd)define(["@angular/common","@angular/core","@angular/material/tooltip","@angular/platform-browser","@angular/platform-browser/animations","rxjs","rxjs/operators"],factory);else{if("object"!=typeof module||!module.exports||"function"!=typeof require)throw new Error("Module must be loaded as AMD or CommonJS");module.exports=factory(require("@angular/common"),require("@angular/core"),require("@angular/material/tooltip"),require("@angular/platform-browser"),require("@angular/platform-browser/animations"),require("rxjs"),require("rxjs/operators"))}});
//# sourceMappingURL=ng2-tree.umd.min.js.map